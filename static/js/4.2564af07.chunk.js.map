{"version":3,"sources":["Meals/MealViewer.js"],"names":["tmpMealName","tmpKcal","ItemCard","React","lazy","CreateMeal","MealViewer","getMealData","userData","favorite","meals","filter","e","mealName","props","name","content","map","data","el","id","length","Object","assign","value","input","sumNutrition","n","reduce","a","b","fatPercent","Math","min","max","round","kcal","proteinPercent","carbPercent","progressCarbPercent","addProgressBars","S","progress","strokeColor","textColor","strokeBackgroundColor","strokeLinecap","carbsTitle","document","createElement","proteinTitle","fatTitle","classList","add","innerHTML","getElementById","append","renderFoodsInTheMeal","fallback","key","random","serving","brand","description","okButtonHandle","mealData","window","location","hash","val","split","getDataByDate","diary","date","dateGetter","dateIndex","push","storeData","history","back","trashButtonHandle","getIndex","indexOf","splice","editHandle","tmpMeal","mealContent","updateRenderState","doAnimation","editMode","oldName","pushState","backButtonHandle","toggleConfirm","getStyle","css","display","wait","opacity","bottom","removeAttr","checkHash","this","introPageTransition","introPageFadeTransition","querySelector","setAttribute","JSON","parse","localStorage","getItem","onClick","style","gridTemplateColumns","pathname","includes","xmlns","viewBox","d","className","Number","toFixed","visibility","Component"],"mappings":"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","file":"static/js/4.2564af07.chunk.js","sourcesContent":["import React, { Fragment, Suspense, Component } from 'react';\r\nimport '../Styles/MealViewer.css';\r\nimport { wait, introPageTransition, introPageFadeTransition } from '../dependencies';\r\nimport { S } from 'selector_dom';\r\nimport { userData, data, storeData } from '../Data';\r\nimport { updateRenderState } from '..';\r\nimport { dateGetter, dateIndex } from '../NavicationBar/MainPage';\r\n\r\nconst ItemCard = React.lazy(() => import('../Foods/ItemCard'));\r\nconst CreateMeal = React.lazy(() => import('./CreateMeal'));\r\n\r\nlet tmpMealName;\r\nlet tmpKcal;\r\n\r\nexport default class MealViewer extends Component {\r\n  componentDidMount() {\r\n    this.addProgressBars();\r\n    if (this.props.name) {\r\n      tmpMealName = this.props.name;\r\n      tmpKcal = this.props.kcal;\r\n    }\r\n    this.props.doAnimation ? introPageTransition('mealViewerPage') : introPageFadeTransition('mealViewerPage');\r\n    document.querySelector('meta[name=theme-color]').setAttribute('content', JSON.parse(window.localStorage.getItem('theme'))[1]);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.querySelector('meta[name=theme-color]').setAttribute('content', JSON.parse(window.localStorage.getItem('theme'))[0]);\r\n  }\r\n\r\n  getMealData = () =>\r\n    userData.favorite.meals\r\n      .filter(e => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n      .content.map(\r\n        e =>\r\n          (e =\r\n            data.filter(el => el.id === e[0]).length > 0\r\n              ? Object.assign({}, data.filter(el => el.id === e[0])[0], { value: e[1], input: e[2] })\r\n              : data[0])\r\n      );\r\n\r\n  sumNutrition = n =>\r\n    this.getMealData()\r\n      .map(e => ((e.value * e.input) / 100) * e[n])\r\n      .reduce((a, b) => a + b);\r\n\r\n  fatPercent = () =>\r\n    Math.min(\r\n      Math.max(Math.round(((this.sumNutrition('fat') * 9) / (this.props.kcal ? this.props.kcal : tmpKcal)) * 100), 0),\r\n      100\r\n    );\r\n\r\n  proteinPercent = () =>\r\n    Math.min(\r\n      Math.max(Math.round(((this.sumNutrition('protein') * 4) / (this.props.kcal ? this.props.kcal : tmpKcal)) * 100), 0),\r\n      100\r\n    );\r\n\r\n  carbPercent = () =>\r\n    Math.min(\r\n      Math.max(Math.round(((this.sumNutrition('carb') * 4) / (this.props.kcal ? this.props.kcal : tmpKcal)) * 100), 0),\r\n      100\r\n    );\r\n\r\n  progressCarbPercent = () =>\r\n    this.carbPercent() > 15 ? Math.min(Math.max(100 - (this.fatPercent() + this.proteinPercent()), 0), 100) : this.carbPercent();\r\n\r\n  addProgressBars = () => {\r\n    S('#mealNutritionInfoCrabsPercent').progress({\r\n      input: this.progressCarbPercent(),\r\n      strokeColor: 'var(--text-kinda-black)',\r\n      textColor: 'var(--text-kinda-black)',\r\n      strokeBackgroundColor: 'var(--background-gray)',\r\n      strokeLinecap: 'none',\r\n    });\r\n    S('#mealNutritionInfoProteinPercent').progress({\r\n      input: this.proteinPercent(),\r\n      strokeColor: 'var(--text-kinda-black)',\r\n      textColor: 'var(--text-kinda-black)',\r\n      strokeBackgroundColor: 'var(--background-gray)',\r\n      strokeLinecap: 'none',\r\n    });\r\n    S('#mealNutritionInfoFatPercent').progress({\r\n      input: this.fatPercent(),\r\n      strokeColor: 'var(--text-kinda-black)',\r\n      textColor: 'var(--text-kinda-black)',\r\n      strokeBackgroundColor: 'var(--background-gray)',\r\n      strokeLinecap: 'none',\r\n    });\r\n    const carbsTitle = document.createElement('p');\r\n    const proteinTitle = document.createElement('p');\r\n    const fatTitle = document.createElement('p');\r\n    carbsTitle.classList.add('mealPercentTitles');\r\n    proteinTitle.classList.add('mealPercentTitles');\r\n    fatTitle.classList.add('mealPercentTitles');\r\n    carbsTitle.innerHTML = 'الكربوهيدرات';\r\n    proteinTitle.innerHTML = 'البروتين';\r\n    fatTitle.innerHTML = 'الدهون';\r\n    document.getElementById('mealNutritionInfoCrabsPercent').append(carbsTitle);\r\n    document.getElementById('mealNutritionInfoProteinPercent').append(proteinTitle);\r\n    document.getElementById('mealNutritionInfoFatPercent').append(fatTitle);\r\n  };\r\n\r\n  renderFoodsInTheMeal = () => {\r\n    return this.getMealData().map(e => (\r\n      <Suspense fallback='' key={Math.random() * 100}>\r\n        <ItemCard\r\n          key={e.id + Math.random() * 1000}\r\n          name={e.name}\r\n          kcal={Math.round((e.kcal / 100) * (e.value * e.input))}\r\n          serving={e.value === 1 ? e.input + ' غرام ' : e.input + '  ' + e.serving.filter(el => el[1] === e.value)[0][0]}\r\n          id={e.id}\r\n          brand={e.brand}\r\n          description={e.description}\r\n          value={e.value}\r\n          input={e.input}\r\n        />\r\n      </Suspense>\r\n    ));\r\n  };\r\n\r\n  okButtonHandle = () => {\r\n    const mealData = userData.favorite.meals.filter(e => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n      .content;\r\n    const mealName =\r\n      window.location.hash === '#Meals#MealViewer' ? S('#mealViewerSelectMeal').val() : window.location.hash.split('#')[2];\r\n    const getDataByDate = userData.diary.filter(e => e.date === dateGetter(dateIndex))[0];\r\n    if (getDataByDate) {\r\n      getDataByDate[mealName] ? getDataByDate[mealName].push(...mealData) : (getDataByDate[mealName] = [...mealData]);\r\n    } else {\r\n      userData.diary.push({ date: dateGetter(dateIndex), [mealName]: [...mealData] });\r\n    }\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  trashButtonHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter(e => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.meals.splice(getIndex, 1);\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  editHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter(e => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.tmpMeal.mealName = this.props.name ? this.props.name : tmpMealName;\r\n    userData.favorite.tmpMeal.mealContent = [...userData.favorite.meals[getIndex].content];\r\n    updateRenderState(\r\n      <Suspense fallback='' key={Math.random() * 100}>\r\n        <CreateMeal\r\n          key={Math.random() * 100}\r\n          doAnimation={true}\r\n          editMode={true}\r\n          oldName={this.props.name ? this.props.name : tmpMealName}\r\n        />\r\n      </Suspense>\r\n    );\r\n    window.history.pushState('', '', '/EditMeal');\r\n  };\r\n\r\n  backButtonHandle = () => window.history.back();\r\n\r\n  toggleConfirm = async () => {\r\n    const getDisplay = S('#mealViewerConfirmBG').getStyle('display');\r\n    if (getDisplay === 'none') {\r\n      S('#mealViewerConfirmBG').css({ display: 'block' });\r\n      S('#mealViewerConfirmContainer').css({ display: 'block' });\r\n      await wait(20);\r\n      S('#mealViewerConfirmBG').css({ opacity: 1 });\r\n      S('#mealViewerConfirmContainer').css({ opacity: 1, bottom: '50%' });\r\n    } else {\r\n      S('#mealViewerConfirmBG').css({ opacity: 0 });\r\n      S('#mealViewerConfirmContainer').css({ opacity: 0 });\r\n      await wait(350);\r\n      S('#mealViewerConfirmBG').removeAttr('style');\r\n      S('#mealViewerConfirmContainer').removeAttr('style');\r\n    }\r\n  };\r\n\r\n  checkHash = () => {\r\n    let hash;\r\n    switch (window.location.hash.split('#')[2]) {\r\n      case 'breakfast':\r\n        hash = 'الفطور';\r\n        break;\r\n      case 'lunch':\r\n        hash = 'الغداء';\r\n        break;\r\n      case 'dinner':\r\n        hash = 'العشاء';\r\n        break;\r\n      case 'snacks':\r\n        hash = 'وجبة خفيفة';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return hash;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div id='mealViewerConfirmBG' onClick={this.toggleConfirm}></div>\r\n        <div id='mealViewerConfirmContainer'>\r\n          <p>هل تريد حذف هذه الوجبة من المفضلة؟</p>\r\n          <button onClick={this.trashButtonHandle}>نعم</button>\r\n          <button onClick={this.toggleConfirm}>لا</button>\r\n        </div>\r\n        <div id='mealViewerPage'>\r\n          <header\r\n            id='mealViewerPageHeader'\r\n            style={{\r\n              gridTemplateColumns: window.location.pathname.includes('search') ? 'repeat(1, 1fr) 0.4fr' : 'repeat(2, 1fr) 0.4fr',\r\n            }}\r\n          >\r\n            <svg id='mealViewerBackButton' onClick={this.backButtonHandle} xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>\r\n              <path d='M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z' />\r\n            </svg>\r\n            <p id='mealViewerHeaderTitle' style={{ display: window.location.pathname.includes('search') ? 'block' : 'none' }}>\r\n              {this.checkHash()}\r\n            </p>\r\n            <svg\r\n              id='mealViewerTrashCan'\r\n              xmlns='http://www.w3.org/2000/svg'\r\n              viewBox='0 0 24 24'\r\n              onClick={this.toggleConfirm}\r\n              style={{ display: window.location.pathname.includes('search') ? 'none' : 'block' }}\r\n            >\r\n              <path d='M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z' />\r\n            </svg>\r\n            <svg\r\n              id='mealViewerEdit'\r\n              onClick={this.editHandle}\r\n              xmlns='http://www.w3.org/2000/svg'\r\n              viewBox='0 0 24 24'\r\n              style={{ display: window.location.pathname.includes('search') ? 'none' : 'block' }}\r\n            >\r\n              <path d='M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z' />\r\n            </svg>\r\n          </header>\r\n          <div id='mealViewerHeaderButtonsContainer'>\r\n            <p id='mealViewerHeaderItemName'>{this.props.name ? this.props.name : tmpMealName}</p>\r\n\r\n            <div id='mealViewerOkButtonBg' onClick={this.okButtonHandle}>\r\n              <svg id='mealViewerOkButton' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>\r\n                <path d='M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z' />\r\n              </svg>\r\n            </div>\r\n            <div id='mealViewerOkButtonAnimation1'></div>\r\n            <div id='mealViewerOkButtonAnimation2'></div>\r\n          </div>\r\n\r\n          <p id='mealViewerKcal'>\r\n            {Math.round(this.props.kcal || this.props.kcal === 0 ? this.props.kcal : tmpKcal)}\r\n            <span>سعرة حرارية</span>\r\n          </p>\r\n          <div\r\n            id='mealViewerSelectMealContainer'\r\n            style={{ display: window.location.hash === '#Meals#MealViewer' ? 'block' : 'none' }}\r\n          >\r\n            <select id='mealViewerSelectMeal'>\r\n              <option className='itemViewerSelectMealItems' value='breakfast'>\r\n                الفطور\r\n              </option>\r\n              <option className='itemViewerSelectMealItems' value='lunch'>\r\n                الغداء\r\n              </option>\r\n              <option className='itemViewerSelectMealItems' value='dinner'>\r\n                العشاء\r\n              </option>\r\n              <option className='itemViewerSelectMealItems' value='snacks'>\r\n                وجبة خفيفة\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div id='mealNutritionInfoPercentContainer'>\r\n            <div id='mealNutritionInfoCrabsPercent'></div>\r\n            <div id='mealNutritionInfoProteinPercent'></div>\r\n            <div id='mealNutritionInfoFatPercent'></div>\r\n          </div>\r\n          <div id='foodsInTheMealContainer'>\r\n            <p className='mealViewerInfoTitles'>الطعام الموجود في الوجبة</p>\r\n            {this.renderFoodsInTheMeal()}\r\n          </div>\r\n          <p className='mealViewerInfoTitles'>المعلومات الغذائية للوجبة</p>\r\n          <div id='mealViewerNutritionInfoDetail'>\r\n            <div id='mealViewerNutritionInfoTitles'>\r\n              <p className='mealViewerNutritionInfoMain'>البروتين</p>\r\n              <p className='mealViewerNutritionInfoMain'>الكربوهيدرات</p>\r\n              <p className='mealViewerNutritionInfoSub'>الألياف</p>\r\n              <p className='mealViewerNutritionInfoSub'>السكر</p>\r\n              <p className='mealViewerNutritionInfoMain'>الدهون</p>\r\n              <p className='mealViewerNutritionInfoSub'>الدهون المشبعة</p>\r\n              <p className='mealViewerNutritionInfoSub'>الدهون الغير مشبعة</p>\r\n              <p className='mealViewerNutritionInfoMain'>آخر</p>\r\n              <p className='mealViewerNutritionInfoSub'>الكوليسترول</p>\r\n              <p className='mealViewerNutritionInfoSub'>الصوديوم</p>\r\n              <p className='mealViewerNutritionInfoSub'>البوتاسيوم</p>\r\n            </div>\r\n            <div id='mealViewerNutritionInfoValues'>\r\n              <p className='mealViewerNutritionInfoMain'>{Number(this.sumNutrition('protein').toFixed(1))} غ</p>\r\n              <p className='mealViewerNutritionInfoMain'>{Number(this.sumNutrition('carb').toFixed(1))} غ</p>\r\n              <p className='mealViewerNutritionInfoSub'>{Number(this.sumNutrition('fiber').toFixed(1))} غ</p>\r\n              <p className='mealViewerNutritionInfoSub'>{Number(this.sumNutrition('sugar').toFixed(1))} غ</p>\r\n              <p className='mealViewerNutritionInfoMain'>{Number(this.sumNutrition('fat').toFixed(1))} غ</p>\r\n              <p className='mealViewerNutritionInfoSub'>{Number(this.sumNutrition('saturatedFat').toFixed(2))} غ</p>\r\n              <p className='mealViewerNutritionInfoSub'>{Number(this.sumNutrition('unsaturatedFat').toFixed(2))} غ</p>\r\n              <p className='mealViewerNutritionInfoMain' style={{ visibility: 'hidden' }}>\r\n                ......\r\n              </p>\r\n              <p className='mealViewerNutritionInfoSub'>{this.sumNutrition('cholesterol').toFixed(0)} ملغ</p>\r\n              <p className='mealViewerNutritionInfoSub'>{this.sumNutrition('sodium').toFixed(0)} ملغ</p>\r\n              <p className='mealViewerNutritionInfoSub'>{this.sumNutrition('potassium').toFixed(0)} ملغ</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}