{"version":3,"sources":["Meals/MealViewer.js"],"names":["tmpMealName","tmpKcal","ItemCard","React","lazy","CreateMeal","MealViewer","props","getMealData","useCallback","userData","favorite","meals","filter","e","mealName","name","content","map","Object","assign","data","el","id","value","input","sumNutrition","n","reduce","a","b","fatPercent","Math","min","max","round","kcal","proteinPercent","carbPercent","CalcCarbPercent","addProgressBars","S","progress","strokeColor","textColor","strokeBackgroundColor","strokeLinecap","carbsTitle","document","createElement","proteinTitle","fatTitle","classList","add","innerHTML","getElementById","append","useEffect","doAnimation","introPageTransition","introPageFadeTransition","querySelector","setAttribute","JSON","parse","window","localStorage","getItem","page","pageHeader","style","cssText","position","wait","bottom","opacity","removeAttribute","removeProperty","transition","toggleConfirm","getStyle","css","display","removeAttr","onClick","getIndex","indexOf","splice","storeData","history","back","gridTemplateColumns","location","pathname","includes","xmlns","viewBox","d","tmpMeal","mealContent","updateRenderState","fallback","key","random","editMode","oldName","pushState","hash","split","checkHash","mealData","val","getDataByDate","diary","date","dateGetter","dateIndex","push","className","serving","brand","description","Number","toFixed","visibility"],"mappings":"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","file":"static/js/4.d40f25c1.chunk.js","sourcesContent":["import React, { Fragment, Suspense, useEffect, useCallback } from \"react\";\r\nimport \"../Styles/MealViewer.css\";\r\nimport { wait } from \"../dependencies\";\r\nimport { S } from \"selector_dom\";\r\nimport { userData, data, storeData } from \"../Data\";\r\nimport { updateRenderState } from \"..\";\r\nimport { dateGetter, dateIndex } from \"../NavicationBar/MainPage\";\r\n\r\nconst ItemCard = React.lazy(() => import(\"../Foods/ItemCard\"));\r\nconst CreateMeal = React.lazy(() => import(\"./CreateMeal\"));\r\n\r\nlet tmpMealName;\r\nlet tmpKcal;\r\nexport default function MealViewer(props) {\r\n  const getMealData = useCallback(() => {\r\n    return userData.favorite.meals\r\n      .filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0]\r\n      .content.map((e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] })));\r\n  }, [props.name]);\r\n\r\n  const sumNutrition = useCallback(\r\n    (n) =>\r\n      getMealData()\r\n        .map((e) => ((e.value * e.input) / 100) * e[n])\r\n        .reduce((a, b) => a + b),\r\n    [getMealData]\r\n  );\r\n\r\n  const fatPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"fat\") * 9) / (props.kcal ? props.kcal : tmpKcal)) * 100), 0), 100),\r\n    [props.kcal, sumNutrition]\r\n  );\r\n\r\n  const proteinPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"protein\") * 4) / (props.kcal ? props.kcal : tmpKcal)) * 100), 0), 100),\r\n    [props.kcal, sumNutrition]\r\n  );\r\n\r\n  const carbPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"carb\") * 4) / (props.kcal ? props.kcal : tmpKcal)) * 100), 0), 100),\r\n    [props.kcal, sumNutrition]\r\n  );\r\n\r\n  const CalcCarbPercent = useCallback(\r\n    () => (carbPercent() > 15 ? Math.min(Math.max(100 - (fatPercent() + proteinPercent()), 0), 100) : carbPercent()),\r\n    [carbPercent, fatPercent, proteinPercent]\r\n  );\r\n\r\n  const addProgressBars = useCallback(() => {\r\n    S(\"#mealNutritionInfoCrabsPercent\").progress({\r\n      input: CalcCarbPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    S(\"#mealNutritionInfoProteinPercent\").progress({\r\n      input: proteinPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    S(\"#mealNutritionInfoFatPercent\").progress({\r\n      input: fatPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    const carbsTitle = document.createElement(\"p\");\r\n    const proteinTitle = document.createElement(\"p\");\r\n    const fatTitle = document.createElement(\"p\");\r\n    carbsTitle.classList.add(\"mealPercentTitles\");\r\n    proteinTitle.classList.add(\"mealPercentTitles\");\r\n    fatTitle.classList.add(\"mealPercentTitles\");\r\n    carbsTitle.innerHTML = \"الكربوهيدرات\";\r\n    proteinTitle.innerHTML = \"البروتين\";\r\n    fatTitle.innerHTML = \"الدهون\";\r\n    document.getElementById(\"mealNutritionInfoCrabsPercent\").append(carbsTitle);\r\n    document.getElementById(\"mealNutritionInfoProteinPercent\").append(proteinTitle);\r\n    document.getElementById(\"mealNutritionInfoFatPercent\").append(fatTitle);\r\n  }, [fatPercent, proteinPercent, CalcCarbPercent]);\r\n\r\n  useEffect(() => {\r\n    props.doAnimation ? introPageTransition() : introPageFadeTransition();\r\n\r\n    addProgressBars();\r\n\r\n    if (props.name) {\r\n      tmpMealName = props.name;\r\n      tmpKcal = props.kcal;\r\n    }\r\n    document.querySelector(\"meta[name=theme-color]\").setAttribute(\"content\", JSON.parse(window.localStorage.getItem(\"theme\"))[1]);\r\n    return () => {\r\n      document\r\n        .querySelector(\"meta[name=theme-color]\")\r\n        .setAttribute(\"content\", JSON.parse(window.localStorage.getItem(\"theme\"))[0]);\r\n    };\r\n  }, [props.doAnimation, addProgressBars, props.kcal, props.name]);\r\n\r\n  const renderFoodsInTheMeal = () => {\r\n    return getMealData().map((e) => (\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <ItemCard\r\n          key={e.id + Math.random() * 1000}\r\n          name={e.name}\r\n          kcal={Math.round((e.kcal / 100) * (e.value * e.input))}\r\n          serving={e.value === 1 ? e.input + \" غرام \" : e.input + \"  \" + e.serving.filter((el) => el[1] === e.value)[0][0]}\r\n          id={e.id}\r\n          brand={e.brand}\r\n          description={e.description}\r\n          value={e.value}\r\n          input={e.input}\r\n        />\r\n      </Suspense>\r\n    ));\r\n  };\r\n\r\n  const introPageTransition = async () => {\r\n    const page = document.getElementById(\"mealViewerPage\");\r\n    const pageHeader = document.getElementById(\"mealViewerHeader\");\r\n\r\n    page.style.cssText = `position: fixed; bottom: 50%; left: 50%; opacity: 0; transform: translate(-50%, 100%); transition: bottom 200ms`;\r\n    pageHeader.style.position = \"relative\";\r\n\r\n    await wait(10);\r\n    page.style.bottom = \"100%\";\r\n    page.style.opacity = \"1\";\r\n\r\n    await wait(200);\r\n    page.removeAttribute(\"style\");\r\n    pageHeader.style.removeProperty(\"position\");\r\n  };\r\n\r\n  const introPageFadeTransition = async () => {\r\n    const page = document.getElementById(\"mealViewerPage\");\r\n    page.style.opacity = \"0\";\r\n    page.style.transition = \"opacity 350ms\";\r\n    await wait(20);\r\n    page.style.opacity = \"1\";\r\n    await wait(350);\r\n    page.removeAttribute(\"style\");\r\n  };\r\n\r\n  const okButtonHandle = () => {\r\n    const mealData = userData.favorite.meals.filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0].content;\r\n    const mealName =\r\n      window.location.hash === \"#Meals#MealViewer\" ? S(\"#mealViewerSelectMeal\").val() : window.location.hash.split(\"#\")[2];\r\n    const getDataByDate = userData.diary.filter((e) => e.date === dateGetter(dateIndex))[0];\r\n    if (getDataByDate) {\r\n      getDataByDate[mealName] ? getDataByDate[mealName].push(...mealData) : (getDataByDate[mealName] = [...mealData]);\r\n    } else {\r\n      userData.diary.push({ date: dateGetter(dateIndex), [mealName]: [...mealData] });\r\n    }\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  const trashButtonHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.meals.splice(getIndex, 1);\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  const editHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.tmpMeal.mealName = props.name ? props.name : tmpMealName;\r\n    userData.favorite.tmpMeal.mealContent = [...userData.favorite.meals[getIndex].content];\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <CreateMeal\r\n          key={Math.random() * 100}\r\n          doAnimation={true}\r\n          editMode={true}\r\n          oldName={props.name ? props.name : tmpMealName}\r\n        />\r\n      </Suspense>\r\n    );\r\n    window.history.pushState(\"\", \"\", \"/EditMeal\");\r\n  };\r\n\r\n  const backButtonHandle = () => window.history.back();\r\n\r\n  const toggleConfirm = async () => {\r\n    const getDisplay = S(\"#mealViewerConfirmBG\").getStyle(\"display\");\r\n    if (getDisplay === \"none\") {\r\n      S(\"#mealViewerConfirmBG\").css({ display: \"block\" });\r\n      S(\"#mealViewerConfirmContainer\").css({ display: \"block\" });\r\n      await wait(20);\r\n      S(\"#mealViewerConfirmBG\").css({ opacity: 1 });\r\n      S(\"#mealViewerConfirmContainer\").css({ opacity: 1, bottom: \"50%\" });\r\n    } else {\r\n      S(\"#mealViewerConfirmBG\").css({ opacity: 0 });\r\n      S(\"#mealViewerConfirmContainer\").css({ opacity: 0 });\r\n      await wait(350);\r\n      S(\"#mealViewerConfirmBG\").removeAttr(\"style\");\r\n      S(\"#mealViewerConfirmContainer\").removeAttr(\"style\");\r\n    }\r\n  };\r\n\r\n  const checkHash = () => {\r\n    let hash;\r\n    switch (window.location.hash.split(\"#\")[2]) {\r\n      case \"breakfast\":\r\n        hash = \"الفطور\";\r\n        break;\r\n      case \"lunch\":\r\n        hash = \"الغداء\";\r\n        break;\r\n      case \"dinner\":\r\n        hash = \"العشاء\";\r\n        break;\r\n      case \"snacks\":\r\n        hash = \"وجبة خفيفة\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return hash;\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div id=\"mealViewerConfirmBG\" onClick={toggleConfirm}></div>\r\n      <div id=\"mealViewerConfirmContainer\">\r\n        <p>هل تريد حذف هذه الوجبة من المفضلة؟</p>\r\n        <button onClick={trashButtonHandle}>نعم</button>\r\n        <button onClick={toggleConfirm}>لا</button>\r\n      </div>\r\n      <div id=\"mealViewerPage\">\r\n        <header\r\n          id=\"mealViewerHeader\"\r\n          style={{\r\n            gridTemplateColumns: window.location.pathname.includes(\"search\") ? \"repeat(1, 1fr) 0.4fr\" : \"repeat(2, 1fr) 0.4fr\",\r\n          }}\r\n        >\r\n          <svg id=\"mealViewerBackButton\" onClick={backButtonHandle} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n          </svg>\r\n          <svg\r\n            id=\"mealViewerTrashCan\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            onClick={toggleConfirm}\r\n            style={{ display: window.location.pathname.includes(\"search\") ? \"none\" : \"block\" }}\r\n          >\r\n            <path d=\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\" />\r\n          </svg>\r\n          <svg\r\n            id=\"mealViewerEdit\"\r\n            onClick={editHandle}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            style={{ display: window.location.pathname.includes(\"search\") ? \"none\" : \"block\" }}\r\n          >\r\n            <path d=\"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z\" />\r\n          </svg>\r\n          <p id=\"mealViewerHeaderTitle\" style={{ display: window.location.pathname.includes(\"search\") ? \"block\" : \"none\" }}>\r\n            {checkHash()}\r\n          </p>\r\n        </header>\r\n        <div id=\"mealViewerHeaderButtonsContainer\">\r\n          <p id=\"mealViewerHeaderItemName\">{props.name ? props.name : tmpMealName}</p>\r\n\r\n          <div id=\"mealViewerOkButtonBg\" onClick={okButtonHandle}>\r\n            <svg id=\"mealViewerOkButton\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z\" />\r\n            </svg>\r\n          </div>\r\n          <div id=\"mealViewerOkButtonAnimation1\"></div>\r\n          <div id=\"mealViewerOkButtonAnimation2\"></div>\r\n        </div>\r\n\r\n        <p id=\"mealViewerKcal\">\r\n          {Math.round(props.kcal || props.kcal === 0 ? props.kcal : tmpKcal)}\r\n          <span>سعرة حرارية</span>\r\n        </p>\r\n        <div\r\n          id=\"mealViewerSelectMealContainer\"\r\n          style={{ display: window.location.hash === \"#Meals#MealViewer\" ? \"block\" : \"none\" }}\r\n        >\r\n          <select id=\"mealViewerSelectMeal\">\r\n            <option className=\"itemViewerSelectMealItems\" value=\"breakfast\">\r\n              الفطور\r\n            </option>\r\n            <option className=\"itemViewerSelectMealItems\" value=\"lunch\">\r\n              الغداء\r\n            </option>\r\n            <option className=\"itemViewerSelectMealItems\" value=\"dinner\">\r\n              العشاء\r\n            </option>\r\n            <option className=\"itemViewerSelectMealItems\" value=\"snacks\">\r\n              وجبة خفيفة\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div id=\"mealNutritionInfoPercentContainer\">\r\n          <div id=\"mealNutritionInfoCrabsPercent\"></div>\r\n          <div id=\"mealNutritionInfoProteinPercent\"></div>\r\n          <div id=\"mealNutritionInfoFatPercent\"></div>\r\n        </div>\r\n        <div id=\"foodsInTheMealContainer\">\r\n          <p className=\"mealViewerInfoTitles\">الطعام الموجود في الوجبة</p>\r\n          {renderFoodsInTheMeal()}\r\n        </div>\r\n        <p className=\"mealViewerInfoTitles\">المعلومات الغذائية للوجبة</p>\r\n        <div id=\"mealViewerNutritionInfoDetail\">\r\n          <div id=\"mealViewerNutritionInfoTitles\">\r\n            <p className=\"mealViewerNutritionInfoMain\">البروتين</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">الكربوهيدرات</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الألياف</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">السكر</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">الدهون</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الدهون المشبعة</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الدهون الغير مشبعة</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">آخر</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الكوليسترول</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الصوديوم</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">البوتاسيوم</p>\r\n          </div>\r\n          <div id=\"mealViewerNutritionInfoValues\">\r\n            <p className=\"mealViewerNutritionInfoMain\">{Number(sumNutrition(\"protein\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">{Number(sumNutrition(\"carb\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"fiber\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"sugar\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">{Number(sumNutrition(\"fat\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"saturatedFat\").toFixed(2))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"unsaturatedFat\").toFixed(2))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoMain\" style={{ visibility: \"hidden\" }}>\r\n              ......\r\n            </p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{sumNutrition(\"cholesterol\").toFixed(0)} ملغ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{sumNutrition(\"sodium\").toFixed(0)} ملغ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{sumNutrition(\"potassium\").toFixed(0)} ملغ</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}