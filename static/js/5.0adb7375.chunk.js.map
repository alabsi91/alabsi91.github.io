{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","SearchPage/RecentlyAdded.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ItemCard","React","lazy","mealValueTmp","RecentlyAdded","state","meal","length","window","location","hash","split","introPageFadeTransition","a","page","document","getElementById","style","opacity","transition","wait","removeAttribute","introPageTransition","pageHeader","cssText","position","bottom","getRecentMeal","mealName","dateIndex","getDataByDate","userData","diary","filter","e","date","dateGetter","map","assign","data","el","id","input","fallback","Math","random","name","kcal","round","serving","brand","description","addAllButtonHandle","toAddMeal","i","itemsArray","addByDate","pathname","includes","favorite","tmpMeal","mealContent","push","showToast","checkHash","renderRecent","content","className","onClick","selectMealHandle","setState","target","backButtonHandle","history","back","h","text","S","css","removeAttr","this","props","doAnimation","addEventListener","xmlns","viewBox","d","onChange","display","Component"],"mappings":"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","file":"static/js/5.0adb7375.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component, Fragment, Suspense } from \"react\";\r\nimport { userData, data } from \"../Data\";\r\nimport { dateGetter, dateIndex } from \"../NavicationBar/MainPage\";\r\nimport { S, wait } from \"../dependencies\";\r\n\r\nconst ItemCard = React.lazy(() => import(\"../Foods/ItemCard\"));\r\n\r\nlet mealValueTmp = \"\";\r\nexport default class RecentlyAdded extends Component {\r\n  state = {\r\n    meal:\r\n      mealValueTmp.length > 0\r\n        ? mealValueTmp\r\n        : window.location.hash.split(\"#\")[1]\r\n        ? window.location.hash.split(\"#\")[1]\r\n        : \"breakfast\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.doAnimation) {\r\n      this.introPageTransition();\r\n    } else {\r\n      this.introPageFadeTransition();\r\n    }\r\n    window.addEventListener(\"popstate\", () => {\r\n      if (window.location.pathname === \"/\" || window.location.pathname.includes(\"search\")) mealValueTmp = \"\";\r\n    });\r\n  }\r\n\r\n  introPageFadeTransition = async () => {\r\n    const page = document.getElementById(\"recentPage\");\r\n    page.style.opacity = \"0\";\r\n    page.style.transition = \"opacity 350ms\";\r\n    await wait(20);\r\n    page.style.opacity = \"1\";\r\n    await wait(350);\r\n    page.removeAttribute(\"style\");\r\n  };\r\n\r\n  introPageTransition = async () => {\r\n    const page = document.getElementById(\"recentPage\");\r\n    const pageHeader = document.getElementById(\"recentHeader\");\r\n\r\n    page.style.cssText = `position: fixed; bottom: 50%; left: 50%; opacity: 0; transform: translate(-50%, 100%); transition: bottom 200ms`;\r\n    pageHeader.style.position = \"relative\";\r\n\r\n    await wait(10);\r\n    page.style.bottom = \"100%\";\r\n    page.style.opacity = \"1\";\r\n\r\n    await wait(200);\r\n    page.removeAttribute(\"style\");\r\n    pageHeader.removeAttribute(\"style\");\r\n  };\r\n\r\n  getRecentMeal = (mealName, dateIndex) => {\r\n    const getDataByDate = userData.diary.filter((e) => e.date === dateGetter(dateIndex))[0];\r\n    if (getDataByDate && getDataByDate[mealName]) {\r\n      const getDataById = getDataByDate[mealName].map(\r\n        (e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] }))\r\n      );\r\n      return getDataById.map((e) => (\r\n        <Suspense fallback=\"\" key={Math.random() * 100}>\r\n          <ItemCard\r\n            key={e.id + Math.random() * 1000}\r\n            name={e.name}\r\n            kcal={Math.round((e.kcal / 100) * (e.value * e.input))}\r\n            serving={e.value === 1 ? e.input + \" غرام \" : e.input + \"  \" + e.serving.filter((el) => el[1] === e.value)[0][0]}\r\n            id={e.id}\r\n            brand={e.brand}\r\n            description={e.description}\r\n            value={e.value}\r\n            input={e.input}\r\n          />\r\n        </Suspense>\r\n      ));\r\n    }\r\n  };\r\n\r\n  addAllButtonHandle = (toAddMeal, mealName, i) => {\r\n    const getDataByDate = userData.diary.filter((e) => e.date === dateGetter(i))[0];\r\n    let itemsArray;\r\n    if (getDataByDate && getDataByDate[mealName]) {\r\n      itemsArray = [...getDataByDate[mealName]];\r\n    }\r\n\r\n    const addByDate = userData.diary.filter((e) => e.date === dateGetter(dateIndex))[0];\r\n    if (window.location.pathname.includes(\"CreateNewMeal\") || window.location.pathname.includes(\"EditMeal\")) {\r\n      userData.favorite.tmpMeal.mealContent.push(...itemsArray);\r\n      this.showToast(\"تمت الإضافة على الوجبة\");\r\n    } else if (addByDate) {\r\n      addByDate[toAddMeal] ? addByDate[toAddMeal].push(...itemsArray) : (addByDate[toAddMeal] = itemsArray);\r\n      this.showToast(\"تمت الإضافة على \" + this.checkHash(toAddMeal));\r\n    } else {\r\n      this.showToast(\"تمت الإضافة على \" + this.checkHash(toAddMeal));\r\n      userData.diary.push({ date: dateGetter(dateIndex), [toAddMeal]: itemsArray });\r\n    }\r\n  };\r\n\r\n  renderRecent = () => {\r\n    let content = [];\r\n    for (let i = 0; i > -8; i--) {\r\n      if (this.getRecentMeal(this.state.meal, i)) {\r\n        content.push([\r\n          <Fragment key={Math.random() * 1000}>\r\n            <p id=\"recentDateText\">{dateGetter(i)}</p>\r\n            <p\r\n              className=\"recentAddAll\"\r\n              onClick={() => this.addAllButtonHandle(window.location.hash.split(\"#\")[1], this.state.meal, i)}\r\n            >\r\n              إضافة الكل ↓\r\n            </p>\r\n            <div>{this.getRecentMeal(this.state.meal, i)}</div>\r\n          </Fragment>,\r\n        ]);\r\n      }\r\n    }\r\n    return content;\r\n  };\r\n\r\n  selectMealHandle = (e) => {\r\n    this.setState({ meal: e.target.value });\r\n    mealValueTmp = e.target.value;\r\n  };\r\n\r\n  backButtonHandle = () => window.history.back();\r\n\r\n  checkHash = (h) => {\r\n    let hash;\r\n    switch (h) {\r\n      case \"breakfast\":\r\n        hash = \"الفطور\";\r\n        break;\r\n      case \"lunch\":\r\n        hash = \"الغداء\";\r\n        break;\r\n      case \"dinner\":\r\n        hash = \"العشاء\";\r\n        break;\r\n      case \"snacks\":\r\n        hash = \"وجبة خفيفة\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return hash;\r\n  };\r\n\r\n  showToast = async (text) => {\r\n    S(\"#recentToast\").text(text).css(\"display\", \"block\");\r\n    await wait(20);\r\n    S(\"#recentToast\").css(\"opacity\", 1).css(\"bottom\", \"75px\");\r\n    await wait(2000);\r\n    S(\"#recentToast\").css(\"opacity\", 0).css(\"bottom\", \"0px\");\r\n    await wait(350);\r\n    S(\"#recentToast\").removeAttr(\"style\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"recentPage\">\r\n        <p id=\"recentToast\"></p>\r\n        <header id=\"recentHeader\">\r\n          <p id=\"recentHeaderTitle\">المضافة مؤخراً</p>\r\n          <svg id=\"recentBack\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" onClick={this.backButtonHandle}>\r\n            <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n          </svg>\r\n        </header>\r\n        <select id=\"recentSelectMeal\" value={this.state.meal} onChange={this.selectMealHandle}>\r\n          <option className=\"itemViewerSelectMealItems\" value=\"breakfast\">\r\n            الفطور\r\n          </option>\r\n          <option className=\"itemViewerSelectMealItems\" value=\"lunch\">\r\n            الغداء\r\n          </option>\r\n          <option className=\"itemViewerSelectMealItems\" value=\"dinner\">\r\n            العشاء\r\n          </option>\r\n          <option className=\"itemViewerSelectMealItems\" value=\"snacks\">\r\n            وجبة خفيفة\r\n          </option>\r\n        </select>\r\n        <p id=\"recentNoResults\" style={{ display: this.renderRecent().length > 0 ? \"none\" : \"block\" }}>\r\n          لا يوجد عناصر مضافة في آخر اسبوع على {this.checkHash(this.state.meal)}\r\n        </p>\r\n        <div>{this.renderRecent()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}