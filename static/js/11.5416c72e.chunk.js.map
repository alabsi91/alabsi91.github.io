{"version":3,"sources":["Meals/MealDetails.js"],"names":["MealDetails","props","sumNutrition","useCallback","n","userData","diary","filter","e","date","mealName","map","Object","assign","data","el","id","value","input","reduce","a","b","fatPercent","Math","min","max","round","proteinPercent","carbPercent","calcCarbPercent","addProgressBars","S","progress","strokeColor","textColor","strokeBackgroundColor","strokeLinecap","carbsTitle","document","createElement","proteinTitle","fatTitle","classList","add","innerHTML","getElementById","append","useLayoutEffect","introPageTransition","xmlns","viewBox","onClick","window","history","back","d","className","Number","toFixed","style","visibility"],"mappings":"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","file":"static/js/11.5416c72e.chunk.js","sourcesContent":["import React, { useCallback, useLayoutEffect } from \"react\";\r\nimport \"../Styles/MealDetails.css\";\r\nimport { userData, data } from \"../Data\";\r\nimport { S } from \"selector_dom\";\r\nimport { introPageTransition } from \"../dependencies\";\r\n\r\nexport default function MealDetails(props) {\r\n  const sumNutrition = useCallback(\r\n    (n) => {\r\n      const getDataByDate = userData.diary.filter((e) => e.date === props.date)[0];\r\n      const getDataById = getDataByDate[props.mealName].map(\r\n        (e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] }))\r\n      );\r\n      return getDataById.map((e) => e[n] * ((e.value * e.input) / 100)).reduce((a, b) => a + b);\r\n    },\r\n    [props.date, props.mealName]\r\n  );\r\n\r\n  const fatPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"fat\") * 9) / sumNutrition(\"kcal\")) * 100), 0), 100),\r\n    [sumNutrition]\r\n  );\r\n\r\n  const proteinPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"protein\") * 4) / sumNutrition(\"kcal\")) * 100), 0), 100),\r\n    [sumNutrition]\r\n  );\r\n\r\n  const carbPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"carb\") * 4) / sumNutrition(\"kcal\")) * 100), 0), 100),\r\n    [sumNutrition]\r\n  );\r\n\r\n  const calcCarbPercent = useCallback(\r\n    () => (carbPercent() > 15 ? Math.min(Math.max(100 - (fatPercent() + proteinPercent()), 0), 100) : carbPercent()),\r\n    [carbPercent, fatPercent, proteinPercent]\r\n  );\r\n\r\n  const addProgressBars = useCallback(() => {\r\n    S(\"#mealDetailsInfoCrabsPercent\").progress({\r\n      input: calcCarbPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    S(\"#mealDetailsInfoProteinPercent\").progress({\r\n      input: proteinPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    S(\"#mealDetailsInfoFatPercent\").progress({\r\n      input: fatPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    const carbsTitle = document.createElement(\"p\");\r\n    const proteinTitle = document.createElement(\"p\");\r\n    const fatTitle = document.createElement(\"p\");\r\n    carbsTitle.classList.add(\"mealDetailsPercentTitles\");\r\n    proteinTitle.classList.add(\"mealDetailsPercentTitles\");\r\n    fatTitle.classList.add(\"mealDetailsPercentTitles\");\r\n    carbsTitle.innerHTML = \"الكربوهيدرات\";\r\n    proteinTitle.innerHTML = \"البروتين\";\r\n    fatTitle.innerHTML = \"الدهون\";\r\n    document.getElementById(\"mealDetailsInfoCrabsPercent\").append(carbsTitle);\r\n    document.getElementById(\"mealDetailsInfoProteinPercent\").append(proteinTitle);\r\n    document.getElementById(\"mealDetailsInfoFatPercent\").append(fatTitle);\r\n  }, [calcCarbPercent, fatPercent, proteinPercent]);\r\n\r\n  useLayoutEffect(() => {\r\n    introPageTransition(\"mealDetailsPage\");\r\n    addProgressBars();\r\n  }, [addProgressBars]);\r\n\r\n  const backButtonHandle = () => window.history.back();\r\n\r\n  return (\r\n    <div id=\"mealDetailsPage\">\r\n      <header id=\"mealDetailsPageHeader\">\r\n        <svg id=\"mealDetailsPageBack\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" onClick={backButtonHandle}>\r\n          <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n        </svg>\r\n        <p id=\"mealDetailsPageHeaderTitle\">المعلومات الغذائية للوجبة</p>\r\n      </header>\r\n      <p id=\"mealDetailsKcal\">\r\n        {Math.round(sumNutrition(\"kcal\"))}\r\n        <span>سعرة حرارية</span>\r\n      </p>\r\n      <div id=\"mealDetailsInfoPercentContainer\">\r\n        <div id=\"mealDetailsInfoCrabsPercent\"></div>\r\n        <div id=\"mealDetailsInfoProteinPercent\"></div>\r\n        <div id=\"mealDetailsInfoFatPercent\"></div>\r\n      </div>\r\n      <div id=\"mealDetailsNutritionInfoDetail\">\r\n        <div id=\"mealDetailsNutritionInfoTitles\">\r\n          <p className=\"mealDetailsNutritionInfoMain\">البروتين</p>\r\n          <p className=\"mealDetailsNutritionInfoMain\">الكربوهيدرات</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">الألياف</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">السكر</p>\r\n          <p className=\"mealDetailsNutritionInfoMain\">الدهون</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">الدهون المشبعة</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">الدهون الغير مشبعة</p>\r\n          <p className=\"mealDetailsNutritionInfoMain\">آخر</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">الكوليسترول</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">الصوديوم</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">البوتاسيوم</p>\r\n        </div>\r\n        <div id=\"mealDetailsNutritionInfoValues\">\r\n          <p className=\"mealDetailsNutritionInfoMain\">{Number(sumNutrition(\"protein\").toFixed(1))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoMain\">{Number(sumNutrition(\"carb\").toFixed(1))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{Number(sumNutrition(\"fiber\").toFixed(1))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{Number(sumNutrition(\"sugar\").toFixed(1))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoMain\">{Number(sumNutrition(\"fat\").toFixed(1))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{Number(sumNutrition(\"saturatedFat\").toFixed(2))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{Number(sumNutrition(\"unsaturatedFat\").toFixed(2))} غ</p>\r\n          <p className=\"mealDetailsNutritionInfoMain\" style={{ visibility: \"hidden\" }}>\r\n            ......\r\n          </p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{sumNutrition(\"cholesterol\").toFixed(0)} ملغ</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{sumNutrition(\"sodium\").toFixed(0)} ملغ</p>\r\n          <p className=\"mealDetailsNutritionInfoSub\">{sumNutrition(\"potassium\").toFixed(0)} ملغ</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}