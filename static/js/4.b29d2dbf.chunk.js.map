{"version":3,"sources":["Meals/MealViewer.js"],"names":["tmpMealName","tmpKcal","ItemCard","React","lazy","CreateMeal","MealViewer","getMealData","userData","favorite","meals","filter","e","mealName","props","name","content","map","Object","assign","data","el","id","value","input","renderFoodsInTheMeal","fallback","key","Math","random","kcal","round","serving","brand","description","sumNutrition","n","reduce","a","b","fatPercent","min","max","proteinPercent","carbPercent","CalcCarbPercent","introPageTransition","page","document","getElementById","pageHeader","style","cssText","position","wait","bottom","opacity","removeAttribute","removeProperty","introPageFadeTransition","transition","okButtonHandle","mealData","window","location","hash","S","val","split","getDataByDate","diary","date","dateGetter","dateIndex","push","storeData","history","back","trashButtonHandle","getIndex","indexOf","splice","editHandle","tmpMeal","mealContent","updateRenderState","doAnimation","editMode","oldName","pushState","backButtonHandle","addProgressBars","progress","strokeColor","textColor","strokeBackgroundColor","strokeLinecap","carbsTitle","createElement","proteinTitle","fatTitle","classList","add","innerHTML","append","toggleConfirm","getStyle","css","display","removeAttr","checkHash","this","querySelector","setAttribute","JSON","parse","localStorage","getItem","onClick","gridTemplateColumns","pathname","includes","xmlns","viewBox","d","className","Number","toFixed","visibility","Component"],"mappings":"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","file":"static/js/4.b29d2dbf.chunk.js","sourcesContent":["import React, { Component, Fragment, Suspense } from \"react\";\r\nimport \"../Styles/MealViewer.css\";\r\nimport { wait } from \"../dependencies\";\r\nimport { S } from \"selector_dom\"\r\nimport { userData, data, storeData } from \"../Data\";\r\nimport { updateRenderState } from \"..\";\r\nimport { dateGetter, dateIndex } from \"../NavicationBar/MainPage\";\r\n\r\nconst ItemCard = React.lazy(() => import(\"../Foods/ItemCard\"));\r\nconst CreateMeal = React.lazy(() => import(\"./CreateMeal\"));\r\n\r\nlet tmpMealName;\r\nlet tmpKcal;\r\nexport default class MealViewer extends Component {\r\n  componentDidMount() {\r\n    this.props.doAnimation ? this.introPageTransition() : this.introPageFadeTransition();\r\n\r\n    this.addProgressBars();\r\n\r\n    if (this.props.name) {\r\n      tmpMealName = this.props.name;\r\n      tmpKcal = this.props.kcal;\r\n    }\r\n    document.querySelector(\"meta[name=theme-color]\").setAttribute(\"content\", JSON.parse(window.localStorage.getItem(\"theme\"))[1]);\r\n  }\r\n  componentWillUnmount() {\r\n    document.querySelector(\"meta[name=theme-color]\").setAttribute(\"content\", JSON.parse(window.localStorage.getItem(\"theme\"))[0]);\r\n  }\r\n  getMealData = () => {\r\n    return userData.favorite.meals\r\n      .filter((e) => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n      .content.map((e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] })));\r\n  };\r\n\r\n  renderFoodsInTheMeal = () => {\r\n    return this.getMealData().map((e) => (\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <ItemCard\r\n          key={e.id + Math.random() * 1000}\r\n          name={e.name}\r\n          kcal={Math.round((e.kcal / 100) * (e.value * e.input))}\r\n          serving={e.value === 1 ? e.input + \" غرام \" : e.input + \"  \" + e.serving.filter((el) => el[1] === e.value)[0][0]}\r\n          id={e.id}\r\n          brand={e.brand}\r\n          description={e.description}\r\n          value={e.value}\r\n          input={e.input}\r\n        />\r\n      </Suspense>\r\n    ));\r\n  };\r\n\r\n  sumNutrition = (n) =>\r\n    this.getMealData()\r\n      .map((e) => ((e.value * e.input) / 100) * e[n])\r\n      .reduce((a, b) => a + b);\r\n\r\n  fatPercent = () =>\r\n    Math.min(\r\n      Math.max(Math.round(((this.sumNutrition(\"fat\") * 9) / (this.props.kcal ? this.props.kcal : tmpKcal)) * 100), 0),\r\n      100\r\n    );\r\n\r\n  proteinPercent = () =>\r\n    Math.min(\r\n      Math.max(Math.round(((this.sumNutrition(\"protein\") * 4) / (this.props.kcal ? this.props.kcal : tmpKcal)) * 100), 0),\r\n      100\r\n    );\r\n\r\n  carbPercent = () =>\r\n    Math.min(\r\n      Math.max(Math.round(((this.sumNutrition(\"carb\") * 4) / (this.props.kcal ? this.props.kcal : tmpKcal)) * 100), 0),\r\n      100\r\n    );\r\n\r\n  CalcCarbPercent = () =>\r\n    this.carbPercent() > 15 ? Math.min(Math.max(100 - (this.fatPercent() + this.proteinPercent()), 0), 100) : this.carbPercent();\r\n\r\n  introPageTransition = async () => {\r\n    const page = document.getElementById(\"mealViewerPage\");\r\n    const pageHeader = document.getElementById(\"mealViewerHeader\");\r\n\r\n    page.style.cssText = `position: fixed; bottom: 50%; left: 50%; opacity: 0; transform: translate(-50%, 100%); transition: bottom 200ms`;\r\n    pageHeader.style.position = \"relative\";\r\n\r\n    await wait(10);\r\n    page.style.bottom = \"100%\";\r\n    page.style.opacity = \"1\";\r\n\r\n    await wait(200);\r\n    page.removeAttribute(\"style\");\r\n    pageHeader.style.removeProperty(\"position\");\r\n  };\r\n\r\n  introPageFadeTransition = async () => {\r\n    const page = document.getElementById(\"mealViewerPage\");\r\n    page.style.opacity = \"0\";\r\n    page.style.transition = \"opacity 350ms\";\r\n    await wait(20);\r\n    page.style.opacity = \"1\";\r\n    await wait(350);\r\n    page.removeAttribute(\"style\");\r\n  };\r\n\r\n  okButtonHandle = () => {\r\n    const mealData = userData.favorite.meals.filter((e) => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n      .content;\r\n    const mealName =\r\n      window.location.hash === \"#Meals#MealViewer\" ? S(\"#mealViewerSelectMeal\").val() : window.location.hash.split(\"#\")[2];\r\n    const getDataByDate = userData.diary.filter((e) => e.date === dateGetter(dateIndex))[0];\r\n    if (getDataByDate) {\r\n      getDataByDate[mealName] ? getDataByDate[mealName].push(...mealData) : (getDataByDate[mealName] = [...mealData]);\r\n    } else {\r\n      userData.diary.push({ date: dateGetter(dateIndex), [mealName]: [...mealData] });\r\n    }\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  trashButtonHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter((e) => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.meals.splice(getIndex, 1);\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  editHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter((e) => e.mealName === (this.props.name ? this.props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.tmpMeal.mealName = this.props.name ? this.props.name : tmpMealName;\r\n    userData.favorite.tmpMeal.mealContent = [...userData.favorite.meals[getIndex].content];\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <CreateMeal\r\n          key={Math.random() * 100}\r\n          doAnimation={true}\r\n          editMode={true}\r\n          oldName={this.props.name ? this.props.name : tmpMealName}\r\n        />\r\n      </Suspense>\r\n    );\r\n    window.history.pushState(\"\", \"\", \"/EditMeal\");\r\n  };\r\n\r\n  backButtonHandle = () => window.history.back();\r\n\r\n  addProgressBars = () => {\r\n    S(\"#mealNutritionInfoCrabsPercent\").progress({\r\n      input: this.CalcCarbPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    })\r\n    S(\"#mealNutritionInfoProteinPercent\").progress({\r\n      input: this.proteinPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    })\r\n    S(\"#mealNutritionInfoFatPercent\").progress({\r\n      input: this.fatPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    })\r\n    const carbsTitle = document.createElement(\"p\");\r\n    const proteinTitle = document.createElement(\"p\");\r\n    const fatTitle = document.createElement(\"p\");\r\n    carbsTitle.classList.add(\"mealPercentTitles\");\r\n    proteinTitle.classList.add(\"mealPercentTitles\");\r\n    fatTitle.classList.add(\"mealPercentTitles\");\r\n    carbsTitle.innerHTML = \"الكربوهيدرات\";\r\n    proteinTitle.innerHTML = \"البروتين\";\r\n    fatTitle.innerHTML = \"الدهون\";\r\n    document.getElementById(\"mealNutritionInfoCrabsPercent\").append(carbsTitle);\r\n    document.getElementById(\"mealNutritionInfoProteinPercent\").append(proteinTitle);\r\n    document.getElementById(\"mealNutritionInfoFatPercent\").append(fatTitle);\r\n  };\r\n\r\n  toggleConfirm = async () => {\r\n    const getDisplay = S(\"#mealViewerConfirmBG\").getStyle(\"display\");\r\n    if (getDisplay === \"none\") {\r\n      S(\"#mealViewerConfirmBG\").css({ display: \"block\" });\r\n      S(\"#mealViewerConfirmContainer\").css({ display: \"block\" });\r\n      await wait(20);\r\n      S(\"#mealViewerConfirmBG\").css({ opacity: 1 });\r\n      S(\"#mealViewerConfirmContainer\").css({ opacity: 1, bottom: \"50%\" });\r\n    } else {\r\n      S(\"#mealViewerConfirmBG\").css({ opacity: 0 });\r\n      S(\"#mealViewerConfirmContainer\").css({ opacity: 0 });\r\n      await wait(350);\r\n      S(\"#mealViewerConfirmBG\").removeAttr(\"style\");\r\n      S(\"#mealViewerConfirmContainer\").removeAttr(\"style\");\r\n    }\r\n  };\r\n\r\n  checkHash = () => {\r\n    let hash;\r\n    switch (window.location.hash.split(\"#\")[2]) {\r\n      case \"breakfast\":\r\n        hash = \"الفطور\";\r\n        break;\r\n      case \"lunch\":\r\n        hash = \"الغداء\";\r\n        break;\r\n      case \"dinner\":\r\n        hash = \"العشاء\";\r\n        break;\r\n      case \"snacks\":\r\n        hash = \"وجبة خفيفة\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return hash;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div id=\"mealViewerConfirmBG\" onClick={this.toggleConfirm}></div>\r\n        <div id=\"mealViewerConfirmContainer\">\r\n          <p>هل تريد حذف هذه الوجبة من المفضلة؟</p>\r\n          <button onClick={this.trashButtonHandle}>نعم</button>\r\n          <button onClick={this.toggleConfirm}>لا</button>\r\n        </div>\r\n        <div id=\"mealViewerPage\">\r\n          <header\r\n            id=\"mealViewerHeader\"\r\n            style={{\r\n              gridTemplateColumns: window.location.pathname.includes(\"search\") ? \"repeat(1, 1fr) 0.4fr\" : \"repeat(2, 1fr) 0.4fr\",\r\n            }}\r\n          >\r\n            <svg id=\"mealViewerBackButton\" onClick={this.backButtonHandle} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n            </svg>\r\n            <svg\r\n              id=\"mealViewerTrashCan\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 24 24\"\r\n              onClick={this.toggleConfirm}\r\n              style={{ display: window.location.pathname.includes(\"search\") ? \"none\" : \"block\" }}\r\n            >\r\n              <path d=\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\" />\r\n            </svg>\r\n            <svg\r\n              id=\"mealViewerEdit\"\r\n              onClick={this.editHandle}\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 24 24\"\r\n              style={{ display: window.location.pathname.includes(\"search\") ? \"none\" : \"block\" }}\r\n            >\r\n              <path d=\"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z\" />\r\n            </svg>\r\n            <p id=\"mealViewerHeaderTitle\" style={{ display: window.location.pathname.includes(\"search\") ? \"block\" : \"none\" }}>\r\n              {this.checkHash()}\r\n            </p>\r\n          </header>\r\n          <div id=\"mealViewerHeaderButtonsContainer\">\r\n            <p id=\"mealViewerHeaderItemName\">{this.props.name ? this.props.name : tmpMealName}</p>\r\n\r\n            <div id=\"mealViewerOkButtonBg\" onClick={this.okButtonHandle}>\r\n              <svg id=\"mealViewerOkButton\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z\" />\r\n              </svg>\r\n            </div>\r\n            <div id=\"mealViewerOkButtonAnimation1\"></div>\r\n            <div id=\"mealViewerOkButtonAnimation2\"></div>\r\n          </div>\r\n\r\n          <p id=\"mealViewerKcal\">\r\n            {Math.round(this.props.kcal || this.props.kcal === 0 ? this.props.kcal : tmpKcal)}\r\n            <span>سعرة حرارية</span>\r\n          </p>\r\n          <div\r\n            id=\"mealViewerSelectMealContainer\"\r\n            style={{ display: window.location.hash === \"#Meals#MealViewer\" ? \"block\" : \"none\" }}\r\n          >\r\n            <select id=\"mealViewerSelectMeal\">\r\n              <option className=\"itemViewerSelectMealItems\" value=\"breakfast\">\r\n                الفطور\r\n              </option>\r\n              <option className=\"itemViewerSelectMealItems\" value=\"lunch\">\r\n                الغداء\r\n              </option>\r\n              <option className=\"itemViewerSelectMealItems\" value=\"dinner\">\r\n                العشاء\r\n              </option>\r\n              <option className=\"itemViewerSelectMealItems\" value=\"snacks\">\r\n                وجبة خفيفة\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div id=\"mealNutritionInfoPercentContainer\">\r\n            <div id=\"mealNutritionInfoCrabsPercent\"></div>\r\n            <div id=\"mealNutritionInfoProteinPercent\"></div>\r\n            <div id=\"mealNutritionInfoFatPercent\"></div>\r\n          </div>\r\n          <div id=\"foodsInTheMealContainer\">\r\n            <p className=\"mealViewerInfoTitles\">الطعام الموجود في الوجبة</p>\r\n            {this.renderFoodsInTheMeal()}\r\n          </div>\r\n          <p className=\"mealViewerInfoTitles\">المعلومات الغذائية للوجبة</p>\r\n          <div id=\"mealViewerNutritionInfoDetail\">\r\n            <div id=\"mealViewerNutritionInfoTitles\">\r\n              <p className=\"mealViewerNutritionInfoMain\">البروتين</p>\r\n              <p className=\"mealViewerNutritionInfoMain\">الكربوهيدرات</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">الألياف</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">السكر</p>\r\n              <p className=\"mealViewerNutritionInfoMain\">الدهون</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">الدهون المشبعة</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">الدهون الغير مشبعة</p>\r\n              <p className=\"mealViewerNutritionInfoMain\">آخر</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">الكوليسترول</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">الصوديوم</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">البوتاسيوم</p>\r\n            </div>\r\n            <div id=\"mealViewerNutritionInfoValues\">\r\n              <p className=\"mealViewerNutritionInfoMain\">{Number(this.sumNutrition(\"protein\").toFixed(1))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoMain\">{Number(this.sumNutrition(\"carb\").toFixed(1))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{Number(this.sumNutrition(\"fiber\").toFixed(1))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{Number(this.sumNutrition(\"sugar\").toFixed(1))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoMain\">{Number(this.sumNutrition(\"fat\").toFixed(1))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{Number(this.sumNutrition(\"saturatedFat\").toFixed(2))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{Number(this.sumNutrition(\"unsaturatedFat\").toFixed(2))} غ</p>\r\n              <p className=\"mealViewerNutritionInfoMain\" style={{ visibility: \"hidden\" }}>\r\n                ......\r\n              </p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{this.sumNutrition(\"cholesterol\").toFixed(0)} ملغ</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{this.sumNutrition(\"sodium\").toFixed(0)} ملغ</p>\r\n              <p className=\"mealViewerNutritionInfoSub\">{this.sumNutrition(\"potassium\").toFixed(0)} ملغ</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}