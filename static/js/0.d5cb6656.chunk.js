(this["webpackJsonpmy-daily-calories"]=this["webpackJsonpmy-daily-calories"]||[]).push([[0],{103:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n,r=a(12),o=a(7),i=a(9),l=a(11),c=a(10),u=a(0),s=a.n(u),m=(a(103),a(4)),d=a(1),p=a(2),M=a(5),f=a(15),N=s.a.lazy((function(){return Promise.resolve().then(a.bind(null,30))})),C=s.a.lazy((function(){return Promise.resolve().then(a.bind(null,18))})),b=s.a.lazy((function(){return a.e(1).then(a.bind(null,99))})),h=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).calcNutrition=function(t){var a=e.getData();return a?a.map((function(e){return e[t]*(e.value*e.input)/100})).reduce((function(e,t){return e+t})):0},e.proteinPercent=function(){return Math.min(Math.max(Math.round(4*e.calcNutrition("protein")/e.calcNutrition("kcal")*100),0),100)},e.fatPercent=function(){return Math.min(Math.max(Math.round(9*e.calcNutrition("fat")/e.calcNutrition("kcal")*100),0),100)},e.carbPercent=function(){return Math.min(Math.max(Math.round(4*e.calcNutrition("carb")/e.calcNutrition("kcal")*100),0),100)},e.calcCarbPercent=function(){return e.carbPercent()>15?Math.min(Math.max(100-(e.fatPercent()+e.proteinPercent()),0),100):e.carbPercent()},e.addProgressBars=function(){Object(d.a)("#CreateMealNutritionInfoCrabsPercent").progress({input:e.calcCarbPercent(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(d.a)("#CreateMealNutritionInfoProteinPercent").progress({input:e.proteinPercent(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(d.a)("#CreateMealNutritionInfoFatPercent").progress({input:e.fatPercent(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"});var t=document.createElement("p"),a=document.createElement("p"),n=document.createElement("p");t.classList.add("CreateMealPercentTitles"),a.classList.add("CreateMealPercentTitles"),n.classList.add("CreateMealPercentTitles"),t.innerHTML="\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a",a.innerHTML="\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646",n.innerHTML="\u0627\u0644\u062f\u0647\u0648\u0646",document.getElementById("CreateMealNutritionInfoCrabsPercent").append(t),document.getElementById("CreateMealNutritionInfoProteinPercent").append(a),document.getElementById("CreateMealNutritionInfoFatPercent").append(n)},e.getData=function(){var e=p.i.favorite.tmpMeal.mealContent;return e.length>0?e.map((function(e){return e=Object.assign({},p.b.filter((function(t){return t.id===e[0]}))[0],{value:e[1],input:e[2]})})):void 0},e.renderMealCards=function(){var t=e.getData();if(t)return t.map((function(e){return s.a.createElement(u.Suspense,{fallback:"",key:100*Math.random()},s.a.createElement(C,{key:e.id+1e3*Math.random(),name:e.name,kcal:Math.round(e.kcal/100*(e.value*e.input)),serving:1===e.value?e.input+" \u063a\u0631\u0627\u0645 ":e.input+"  "+e.serving.filter((function(t){return t[1]===e.value}))[0][0],id:e.id,brand:e.brand,description:e.description,value:e.value,input:e.input}))}))},e.backButtonHandle=function(){return window.history.back()},e.createMealButtonHandle=function(){var t=[p.i.favorite.tmpMeal.mealName.toLowerCase(),p.i.favorite.tmpMeal.mealContent],a=t[0],n=t[1],o=!1;for(var i in p.i.favorite.meals)p.i.favorite.meals[i].mealName.toLowerCase()===a&&(o=!0);a.length>0&&n.length>0&&!o?(p.i.favorite.meals.unshift({mealName:a.toString(),content:Object(r.a)(n)}),p.i.favorite.tmpMeal.mealName="",p.i.favorite.tmpMeal.mealContent=[],setTimeout((function(){window.history.pushState("","","/favorites"),Object(M.updateRenderState)([s.a.createElement(u.Suspense,{fallback:"",key:100*Math.random()},s.a.createElement(N,{key:100*Math.random(),page:2})),s.a.createElement(f.a,{key:100*Math.random()})])}),100),e.props.goBackOnce?window.history.go(-1):window.history.go(-2)):o?(Object(d.a)("#CreateMealNameInputContainer").css({borderColor:"#ff9800"}),Object(m.e)("\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644","warning"),window.scrollTo({top:0})):0===a.length?(Object(d.a)("#CreateMealNameInputContainer").css({borderColor:"#f44336"}),Object(m.e)("\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062c\u0628\u0629","error"),window.scrollTo({top:0})):0===n.length&&(Object(d.a)("#addFoodToMeal").css({borderColor:"#f44336"}),Object(m.e)("\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0637\u0639\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0648\u062c\u0628\u0629","error")),Object(p.f)()},e.createMealEditModeButtonHandle=function(){var t=[p.i.favorite.tmpMeal.mealName.toLowerCase(),e.props.oldName?e.props.oldName.toLowerCase():n.toLowerCase(),p.i.favorite.tmpMeal.mealContent,p.i.favorite.meals],a=t[0],o=t[1],i=t[2],l=t[3],c=!1;for(var u in l)l[u].mealName.toLowerCase()===a&&l[u].mealName.toLowerCase()!==o&&(c=!0);if(a.length>0&&i.length>0&&!c){var s=l.indexOf(l.filter((function(e){return e.mealName===o}))[0]);l[s].content=Object(r.a)(i),l[s].mealName=a,window.history.go(-2)}else c?(Object(d.a)("#CreateMealNameInputContainer").css({borderColor:"#ff9800"}),Object(m.e)("\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644","warning"),window.scrollTo({top:0})):0===a.length?(Object(d.a)("#CreateMealNameInputContainer").css({borderColor:"#f44336"}),Object(m.e)("\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062c\u0628\u0629","error"),window.scrollTo({top:0})):0===i.length&&(Object(d.a)("#addFoodToMeal").css({borderColor:"#f44336"}),Object(m.e)("\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0637\u0639\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0648\u062c\u0628\u0629","error"));Object(p.f)()},e.addFoodToMealHandle=function(){Object(M.updateRenderState)(s.a.createElement(u.Suspense,{fallback:"",key:100*Math.random()},s.a.createElement(b,{key:100*Math.random(),doAnimation:!0}))),e.props.editMode?window.history.pushState("","","/EditMeal/search"):window.history.pushState("","","/CreateNewMeal/search")},e.mealNameInputOnChangeHandle=function(e){return p.i.favorite.tmpMeal.mealName=e.target.value},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.doAnimation?Object(m.c)("CreateMealPage"):Object(m.b)("CreateMealPage"),this.props.oldName&&(n=this.props.oldName),this.addProgressBars(),Object(d.a)("#CreateMealNameInputContainer input").val(p.i.favorite.tmpMeal.mealName)}},{key:"render",value:function(){return s.a.createElement("div",{id:"CreateMealPage"},s.a.createElement(m.a,null),s.a.createElement("header",{id:"CreateMealPageHeader"},s.a.createElement("svg",{id:"CreateMealBack",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:this.backButtonHandle},s.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),s.a.createElement("p",{id:"CreateMealHeaderTitle"},this.props.editMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0648\u062c\u0628\u0629":"\u0625\u0646\u0634\u0627\u0621 \u0648\u062c\u0628\u0629 \u062c\u062f\u064a\u062f\u0629")),s.a.createElement("div",{id:"CreateMealNameInput"},s.a.createElement("div",{id:"CreateMealNameInputContainer"},s.a.createElement("p",null,"\u0627\u062f\u062e\u0640\u0640\u0644 \u0627\u0633\u0640\u0640\u0645 \u0627\u0644\u0640\u0640\u0648\u062c\u0640\u0640\u0628\u0640\u0640\u0629"),s.a.createElement("input",{type:"text",placeholder:"\u0627\u0633\u0640\u0640\u0645 \u0627\u0644\u0640\u0640\u0648\u062c\u0640\u0640\u0628\u0640\u0640\u0629",onClick:function(e){Object(d.a)("#CreateMealNameInputContainer").removeAttr("style")},onChange:this.mealNameInputOnChangeHandle})),s.a.createElement("p",{id:"addFoodToMeal",onClick:this.addFoodToMealHandle},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})),"\u0625\u0636\u0640\u0627\u0641\u0640\u0629 \u0637\u0640\u0639\u0640\u0627\u0645 \u0625\u0644\u0640\u0649 \u0627\u0644\u0640\u0648\u062c\u0640\u0628\u0640\u0629")),s.a.createElement("p",{id:"CreateMealDone",onClick:this.props.editMode?this.createMealEditModeButtonHandle:this.createMealButtonHandle},this.props.editMode?"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u0631\u0627\u062a":"\u0625\u0646\u0640\u0634\u0640\u0627\u0621 \u0648\u062d\u0640\u0641\u0640\u0638 \u0627\u0644\u0640\u0648\u062c\u0640\u0628\u0640\u0629"),s.a.createElement("div",{id:"CreateMealCards"},this.renderMealCards()),s.a.createElement("div",{id:"CreateMealNutritionInfoContainer"},s.a.createElement("p",{id:"CreateMealNutritionInfoTitle"},"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u063a\u0630\u0627\u0626\u064a\u0629"),s.a.createElement("div",{id:"CreateMealNutritionInfoPercentContainer"},s.a.createElement("div",{id:"CreateMealNutritionInfoCrabsPercent"}),s.a.createElement("div",{id:"CreateMealNutritionInfoProteinPercent"}),s.a.createElement("div",{id:"CreateMealNutritionInfoFatPercent"})),s.a.createElement("div",{id:"CreateMealNutritionInfoDetail"},s.a.createElement("div",{id:"CreateMealNutritionInfoTitles"},s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0633\u0639\u0631\u0627\u062a \u0627\u0644\u062d\u0631\u0627\u0631\u064a\u0629"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0623\u0644\u064a\u0627\u0641"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0633\u0643\u0631"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u062f\u0647\u0648\u0646"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u0645\u0634\u0628\u0639\u0629"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u063a\u064a\u0631 \u0645\u0634\u0628\u0639\u0629"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0622\u062e\u0631"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0643\u0648\u0644\u064a\u0633\u062a\u0631\u0648\u0644"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0635\u0648\u062f\u064a\u0648\u0645"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0628\u0648\u062a\u0627\u0633\u064a\u0648\u0645")),s.a.createElement("div",{id:"CreateMealNutritionInfoValues"},s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(this.calcNutrition("kcal").toFixed(1))),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(this.calcNutrition("protein").toFixed(1))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(this.calcNutrition("carb").toFixed(1))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(this.calcNutrition("fiber").toFixed(1))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(this.calcNutrition("sugar").toFixed(1))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(this.calcNutrition("fat").toFixed(1))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(this.calcNutrition("saturatedFat").toFixed(2))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(this.calcNutrition("unsaturatedFat").toFixed(2))," \u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoMain",style:{visibility:"hidden"}},"......"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},this.calcNutrition("cholesterol").toFixed(0)," \u0645\u0644\u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},this.calcNutrition("sodium").toFixed(0)," \u0645\u0644\u063a"),s.a.createElement("p",{className:"CreateMealNutritionInfoSub"},this.calcNutrition("potassium").toFixed(0)," \u0645\u0644\u063a")))))}}]),a}(u.Component)}}]);
//# sourceMappingURL=0.d5cb6656.chunk.js.map