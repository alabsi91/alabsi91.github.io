(this["webpackJsonpmy-daily-calories"]=this["webpackJsonpmy-daily-calories"]||[]).push([[4],{107:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return N}));var n,i,r=t(3),l=t.n(r),c=t(7),o=t(21),m=t(8),s=t(0),u=t.n(s),d=(t(107),t(4)),f=t(1),p=t(2),b=t(5),w=t(9),k=u.a.lazy((function(){return Promise.resolve().then(t.bind(null,20))})),v=u.a.lazy((function(){return t.e(0).then(t.bind(null,98))}));function N(e){var a=Object(s.useCallback)((function(){return p.i.favorite.meals.filter((function(a){return a.mealName===(e.name?e.name:n)}))[0].content.map((function(e){return e=Object.assign({},p.b.filter((function(a){return a.id===e[0]}))[0],{value:e[1],input:e[2]})}))}),[e.name]),t=Object(s.useCallback)((function(e){return a().map((function(a){return a.value*a.input/100*a[e]})).reduce((function(e,a){return e+a}))}),[a]),r=Object(s.useCallback)((function(){return Math.min(Math.max(Math.round(9*t("fat")/(e.kcal?e.kcal:i)*100),0),100)}),[e.kcal,t]),N=Object(s.useCallback)((function(){return Math.min(Math.max(Math.round(4*t("protein")/(e.kcal?e.kcal:i)*100),0),100)}),[e.kcal,t]),E=Object(s.useCallback)((function(){return Math.min(Math.max(Math.round(4*t("carb")/(e.kcal?e.kcal:i)*100),0),100)}),[e.kcal,t]),h=Object(s.useCallback)((function(){return E()>15?Math.min(Math.max(100-(r()+N()),0),100):E()}),[E,r,N]),V=Object(s.useCallback)((function(){Object(f.a)("#mealNutritionInfoCrabsPercent").progress({input:h(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(f.a)("#mealNutritionInfoProteinPercent").progress({input:N(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(f.a)("#mealNutritionInfoFatPercent").progress({input:r(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"});var e=document.createElement("p"),a=document.createElement("p"),t=document.createElement("p");e.classList.add("mealPercentTitles"),a.classList.add("mealPercentTitles"),t.classList.add("mealPercentTitles"),e.innerHTML="\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a",a.innerHTML="\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646",t.innerHTML="\u0627\u0644\u062f\u0647\u0648\u0646",document.getElementById("mealNutritionInfoCrabsPercent").append(e),document.getElementById("mealNutritionInfoProteinPercent").append(a),document.getElementById("mealNutritionInfoFatPercent").append(t)}),[r,N,h]);Object(s.useEffect)((function(){return V(),e.name&&(n=e.name,i=e.kcal),function(){document.querySelector("meta[name=theme-color]").setAttribute("content",JSON.parse(window.localStorage.getItem("theme"))[0])}}),[V,e.kcal,e.name]),Object(s.useLayoutEffect)((function(){e.doAnimation?Object(d.c)("mealViewerPage"):Object(d.b)("mealViewerPage"),document.querySelector("meta[name=theme-color]").setAttribute("content",JSON.parse(window.localStorage.getItem("theme"))[1])}),[e.doAnimation]);var C=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==Object(f.a)("#mealViewerConfirmBG").getStyle("display")){e.next=10;break}return Object(f.a)("#mealViewerConfirmBG").css({display:"block"}),Object(f.a)("#mealViewerConfirmContainer").css({display:"block"}),e.next=6,Object(d.g)(20);case 6:Object(f.a)("#mealViewerConfirmBG").css({opacity:1}),Object(f.a)("#mealViewerConfirmContainer").css({opacity:1,bottom:"50%"}),e.next=16;break;case 10:return Object(f.a)("#mealViewerConfirmBG").css({opacity:0}),Object(f.a)("#mealViewerConfirmContainer").css({opacity:0}),e.next=14,Object(d.g)(350);case 14:Object(f.a)("#mealViewerConfirmBG").removeAttr("style"),Object(f.a)("#mealViewerConfirmContainer").removeAttr("style");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(s.Fragment,null,u.a.createElement("div",{id:"mealViewerConfirmBG",onClick:C}),u.a.createElement("div",{id:"mealViewerConfirmContainer"},u.a.createElement("p",null,"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0648\u062c\u0628\u0629 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629\u061f"),u.a.createElement("button",{onClick:function(){var a=p.i.favorite.meals.indexOf(p.i.favorite.meals.filter((function(a){return a.mealName===(e.name?e.name:n)}))[0]);p.i.favorite.meals.splice(a,1),Object(p.f)(),window.history.back()}},"\u0646\u0639\u0645"),u.a.createElement("button",{onClick:C},"\u0644\u0627")),u.a.createElement("div",{id:"mealViewerPage"},u.a.createElement("header",{id:"mealViewerPageHeader",style:{gridTemplateColumns:window.location.pathname.includes("search")?"repeat(1, 1fr) 0.4fr":"repeat(2, 1fr) 0.4fr"}},u.a.createElement("svg",{id:"mealViewerBackButton",onClick:function(){return window.history.back()},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),u.a.createElement("p",{id:"mealViewerHeaderTitle",style:{display:window.location.pathname.includes("search")?"block":"none"}},function(){var e;switch(window.location.hash.split("#")[2]){case"breakfast":e="\u0627\u0644\u0641\u0637\u0648\u0631";break;case"lunch":e="\u0627\u0644\u063a\u062f\u0627\u0621";break;case"dinner":e="\u0627\u0644\u0639\u0634\u0627\u0621";break;case"snacks":e="\u0648\u062c\u0628\u0629 \u062e\u0641\u064a\u0641\u0629"}return e}()),u.a.createElement("svg",{id:"mealViewerTrashCan",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:C,style:{display:window.location.pathname.includes("search")?"none":"block"}},u.a.createElement("path",{d:"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"})),u.a.createElement("svg",{id:"mealViewerEdit",onClick:function(){var a=p.i.favorite.meals.indexOf(p.i.favorite.meals.filter((function(a){return a.mealName===(e.name?e.name:n)}))[0]);p.i.favorite.tmpMeal.mealName=e.name?e.name:n,p.i.favorite.tmpMeal.mealContent=Object(m.a)(p.i.favorite.meals[a].content),Object(b.updateRenderState)(u.a.createElement(s.Suspense,{fallback:"",key:100*Math.random()},u.a.createElement(v,{key:100*Math.random(),doAnimation:!0,editMode:!0,oldName:e.name?e.name:n}))),window.history.pushState("","","/EditMeal")},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",style:{display:window.location.pathname.includes("search")?"none":"block"}},u.a.createElement("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"}))),u.a.createElement("div",{id:"mealViewerHeaderButtonsContainer"},u.a.createElement("p",{id:"mealViewerHeaderItemName"},e.name?e.name:n),u.a.createElement("div",{id:"mealViewerOkButtonBg",onClick:function(){var a,t=p.i.favorite.meals.filter((function(a){return a.mealName===(e.name?e.name:n)}))[0].content,i="#Meals#MealViewer"===window.location.hash?Object(f.a)("#mealViewerSelectMeal").val():window.location.hash.split("#")[2],r=p.i.diary.filter((function(e){return e.date===Object(w.a)(w.b)}))[0];r?r[i]?(a=r[i]).push.apply(a,Object(m.a)(t)):r[i]=Object(m.a)(t):p.i.diary.push(Object(o.a)({date:Object(w.a)(w.b)},i,Object(m.a)(t)));Object(p.f)(),window.history.back()}},u.a.createElement("svg",{id:"mealViewerOkButton",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u.a.createElement("path",{d:"M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"}))),u.a.createElement("div",{id:"mealViewerOkButtonAnimation1"}),u.a.createElement("div",{id:"mealViewerOkButtonAnimation2"})),u.a.createElement("p",{id:"mealViewerKcal"},Math.round(e.kcal||0===e.kcal?e.kcal:i),u.a.createElement("span",null,"\u0633\u0639\u0631\u0629 \u062d\u0631\u0627\u0631\u064a\u0629")),u.a.createElement("div",{id:"mealViewerSelectMealContainer",style:{display:"#Meals#MealViewer"===window.location.hash?"block":"none"}},u.a.createElement("select",{id:"mealViewerSelectMeal"},u.a.createElement("option",{className:"itemViewerSelectMealItems",value:"breakfast"},"\u0627\u0644\u0641\u0637\u0648\u0631"),u.a.createElement("option",{className:"itemViewerSelectMealItems",value:"lunch"},"\u0627\u0644\u063a\u062f\u0627\u0621"),u.a.createElement("option",{className:"itemViewerSelectMealItems",value:"dinner"},"\u0627\u0644\u0639\u0634\u0627\u0621"),u.a.createElement("option",{className:"itemViewerSelectMealItems",value:"snacks"},"\u0648\u062c\u0628\u0629 \u062e\u0641\u064a\u0641\u0629"))),u.a.createElement("div",{id:"mealNutritionInfoPercentContainer"},u.a.createElement("div",{id:"mealNutritionInfoCrabsPercent"}),u.a.createElement("div",{id:"mealNutritionInfoProteinPercent"}),u.a.createElement("div",{id:"mealNutritionInfoFatPercent"})),u.a.createElement("div",{id:"foodsInTheMealContainer"},u.a.createElement("p",{className:"mealViewerInfoTitles"},"\u0627\u0644\u0637\u0639\u0627\u0645 \u0627\u0644\u0645\u0648\u062c\u0648\u062f \u0641\u064a \u0627\u0644\u0648\u062c\u0628\u0629"),a().map((function(e){return u.a.createElement(s.Suspense,{fallback:"",key:100*Math.random()},u.a.createElement(k,{key:e.id+1e3*Math.random(),name:e.name,kcal:Math.round(e.kcal/100*(e.value*e.input)),serving:1===e.value?e.input+" \u063a\u0631\u0627\u0645 ":e.input+"  "+e.serving.filter((function(a){return a[1]===e.value}))[0][0],id:e.id,brand:e.brand,description:e.description,value:e.value,input:e.input}))}))),u.a.createElement("p",{className:"mealViewerInfoTitles"},"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u063a\u0630\u0627\u0626\u064a\u0629 \u0644\u0644\u0648\u062c\u0628\u0629"),u.a.createElement("div",{id:"mealViewerNutritionInfoDetail"},u.a.createElement("div",{id:"mealViewerNutritionInfoTitles"},u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646"),u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},"\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u0623\u0644\u064a\u0627\u0641"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u0633\u0643\u0631"),u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},"\u0627\u0644\u062f\u0647\u0648\u0646"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u0645\u0634\u0628\u0639\u0629"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u063a\u064a\u0631 \u0645\u0634\u0628\u0639\u0629"),u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},"\u0622\u062e\u0631"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u0643\u0648\u0644\u064a\u0633\u062a\u0631\u0648\u0644"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u0635\u0648\u062f\u064a\u0648\u0645"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},"\u0627\u0644\u0628\u0648\u062a\u0627\u0633\u064a\u0648\u0645")),u.a.createElement("div",{id:"mealViewerNutritionInfoValues"},u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},Number(t("protein").toFixed(1))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},Number(t("carb").toFixed(1))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},Number(t("fiber").toFixed(1))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},Number(t("sugar").toFixed(1))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoMain"},Number(t("fat").toFixed(1))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},Number(t("saturatedFat").toFixed(2))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},Number(t("unsaturatedFat").toFixed(2))," \u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoMain",style:{visibility:"hidden"}},"......"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},t("cholesterol").toFixed(0)," \u0645\u0644\u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},t("sodium").toFixed(0)," \u0645\u0644\u063a"),u.a.createElement("p",{className:"mealViewerNutritionInfoSub"},t("potassium").toFixed(0)," \u0645\u0644\u063a")))))}}}]);
//# sourceMappingURL=4.449224cd.chunk.js.map