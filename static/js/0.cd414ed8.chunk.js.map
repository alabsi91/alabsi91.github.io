{"version":3,"sources":["Meals/CreateMeal.js"],"names":["tmpOldName","FavoritePage","React","lazy","ItemCard","SearchPage","CreateMeal","getData","dataArray","userData","favorite","tmpMeal","mealContent","length","map","e","Object","assign","data","filter","el","id","value","input","calcNutrition","n","reduce","a","b","renderMealCards","fallback","key","Math","random","name","kcal","round","serving","brand","description","introPageTransition","page","document","getElementById","pageHeader","style","cssText","position","wait","bottom","opacity","removeAttribute","introPageFadeTransition","transition","proteinPercent","min","max","fatPercent","carbPercent","CalcCarbPercent","addProgressBars","ProgressBar","R","width","fillColor","progressColor","textColor","backgroundColor","lineCap","carbsTitle","createElement","proteinTitle","fatTitle","classList","add","innerHTML","append","backButtonHandle","window","history","back","createMealButtonHandle","mealName","toLowerCase","content","isNameExist","i","meals","unshift","toString","setTimeout","pushState","updateRenderState","props","goBackOnce","go","S","css","borderColor","snackbarHandle","scrollTo","top","storeData","createMealEditModeButtonHandle","oldName","doNameExist","getIndex","indexOf","addFoodToMealHandle","doAnimation","editMode","mealNameInputOnChangeHandle","target","this","val","xmlns","viewBox","onClick","d","type","placeholder","removeAttr","onChange","className","Number","toFixed","visibility","Component"],"mappings":"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","file":"static/js/0.cd414ed8.chunk.js","sourcesContent":["import React, { Component, Suspense } from \"react\";\r\nimport \"../Styles/CreateMeal.css\"\r\nimport { ProgressBar, wait, Snackbar, snackbarHandle } from \"../dependencies\";\r\nimport { S } from \"../SelectorLib\"\r\nimport { userData, data, storeData } from \"../Data\";\r\nimport { updateRenderState } from \"..\";\r\n\r\nimport NavicationBar from \"../NavicationBar/NavicationBar\";\r\nconst FavoritePage = React.lazy(() => import(\"../NavicationBar/FavoritePage\"));\r\nconst ItemCard = React.lazy(() => import(\"../Foods/ItemCard\"));\r\nconst SearchPage = React.lazy(() => import(\"../SearchPage/SearchPage\"));\r\n\r\nlet tmpOldName;\r\nexport default class CreateMeal extends Component {\r\n  componentDidMount() {\r\n    this.props.doAnimation ? this.introPageTransition() : this.introPageFadeTransition();\r\n\r\n    if (this.props.oldName) tmpOldName = this.props.oldName;\r\n    this.addProgressBars();\r\n    S(\"#CreateMealNameInputContainer input\").val(userData.favorite.tmpMeal.mealName);\r\n  }\r\n\r\n  getData = () => {\r\n    const dataArray = userData.favorite.tmpMeal.mealContent;\r\n    if (dataArray.length > 0) {\r\n      return dataArray.map((e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] })));\r\n    } else {\r\n      return undefined;\r\n    }\r\n  };\r\n\r\n  calcNutrition = (n) => {\r\n    const dataArray = this.getData();\r\n    if (dataArray) {\r\n      return dataArray.map((e) => (e[n] * (e.value * e.input)) / 100).reduce((a, b) => a + b);\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  renderMealCards = () => {\r\n    const dataArray = this.getData();\r\n    if (dataArray) {\r\n      return dataArray.map((e) => (\r\n        <Suspense fallback=\"\" key={Math.random() * 100}>\r\n          <ItemCard\r\n            key={e.id + Math.random() * 1000}\r\n            name={e.name}\r\n            kcal={Math.round((e.kcal / 100) * (e.value * e.input))}\r\n            serving={e.value === 1 ? e.input + \" غرام \" : e.input + \"  \" + e.serving.filter((el) => el[1] === e.value)[0][0]}\r\n            id={e.id}\r\n            brand={e.brand}\r\n            description={e.description}\r\n            value={e.value}\r\n            input={e.input}\r\n          />\r\n        </Suspense>\r\n      ));\r\n    }\r\n  };\r\n\r\n  introPageTransition = async () => {\r\n    const page = document.getElementById(\"CreateMealPage\");\r\n    const pageHeader = document.getElementById(\"CreateMealHeader\");\r\n\r\n    page.style.cssText = `position: fixed; bottom: 50%; left: 50%; opacity: 0; transform: translate(-50%, 100%); transition: bottom 200ms`;\r\n    pageHeader.style.position = \"relative\";\r\n\r\n    await wait(10);\r\n    page.style.bottom = \"100%\";\r\n    page.style.opacity = \"1\";\r\n\r\n    await wait(200);\r\n    page.removeAttribute(\"style\");\r\n    pageHeader.removeAttribute(\"style\");\r\n  };\r\n\r\n  introPageFadeTransition = async () => {\r\n    const page = document.getElementById(\"CreateMealPage\");\r\n    page.style.opacity = \"0\";\r\n    page.style.transition = \"opacity 350ms\";\r\n    await wait(20);\r\n    page.style.opacity = \"1\";\r\n    await wait(350);\r\n    page.removeAttribute(\"style\");\r\n  };\r\n\r\n  proteinPercent = () =>\r\n    Math.min(Math.max(Math.round(((this.calcNutrition(\"protein\") * 4) / this.calcNutrition(\"kcal\")) * 100), 0), 100);\r\n  fatPercent = () => Math.min(Math.max(Math.round(((this.calcNutrition(\"fat\") * 9) / this.calcNutrition(\"kcal\")) * 100), 0), 100);\r\n  carbPercent = () =>\r\n    Math.min(Math.max(Math.round(((this.calcNutrition(\"carb\") * 4) / this.calcNutrition(\"kcal\")) * 100), 0), 100);\r\n  CalcCarbPercent = () =>\r\n    this.carbPercent() > 15 ? Math.min(Math.max(100 - (this.fatPercent() + this.proteinPercent()), 0), 100) : this.carbPercent();\r\n\r\n  addProgressBars = () => {\r\n    ProgressBar(\"#CreateMealNutritionInfoCrabsPercent\", {\r\n      input: this.CalcCarbPercent(),\r\n      R: 40,\r\n      width: 5,\r\n      fillColor: \"none\",\r\n      progressColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      backgroundColor: \"var(--background-gray)\",\r\n      lineCap: \"none\",\r\n    });\r\n    ProgressBar(\"#CreateMealNutritionInfoProteinPercent\", {\r\n      input: this.proteinPercent(),\r\n      R: 40,\r\n      width: 5,\r\n      fillColor: \"none\",\r\n      progressColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      backgroundColor: \"var(--background-gray)\",\r\n      lineCap: \"none\",\r\n    });\r\n    ProgressBar(\"#CreateMealNutritionInfoFatPercent\", {\r\n      input: this.fatPercent(),\r\n      R: 40,\r\n      width: 5,\r\n      fillColor: \"none\",\r\n      progressColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      backgroundColor: \"var(--background-gray)\",\r\n      lineCap: \"none\",\r\n    });\r\n    const carbsTitle = document.createElement(\"p\");\r\n    const proteinTitle = document.createElement(\"p\");\r\n    const fatTitle = document.createElement(\"p\");\r\n    carbsTitle.classList.add(\"CreateMealPercentTitles\");\r\n    proteinTitle.classList.add(\"CreateMealPercentTitles\");\r\n    fatTitle.classList.add(\"CreateMealPercentTitles\");\r\n    carbsTitle.innerHTML = \"الكربوهيدرات\";\r\n    proteinTitle.innerHTML = \"البروتين\";\r\n    fatTitle.innerHTML = \"الدهون\";\r\n    document.getElementById(\"CreateMealNutritionInfoCrabsPercent\").append(carbsTitle);\r\n    document.getElementById(\"CreateMealNutritionInfoProteinPercent\").append(proteinTitle);\r\n    document.getElementById(\"CreateMealNutritionInfoFatPercent\").append(fatTitle);\r\n  };\r\n\r\n  backButtonHandle = () => window.history.back();\r\n\r\n  createMealButtonHandle = () => {\r\n    const [name, content] = [userData.favorite.tmpMeal.mealName.toLowerCase(), userData.favorite.tmpMeal.mealContent];\r\n    let isNameExist = false;\r\n    for (let i in userData.favorite.meals) if (userData.favorite.meals[i].mealName.toLowerCase() === name) isNameExist = true;\r\n\r\n    if (name.length > 0 && content.length > 0 && !isNameExist) {\r\n      userData.favorite.meals.unshift({ mealName: name.toString(), content: [...content] });\r\n      userData.favorite.tmpMeal.mealName = \"\";\r\n      userData.favorite.tmpMeal.mealContent = [];\r\n      setTimeout(() => {\r\n        window.history.pushState(\"\", \"\", \"/favorites\");\r\n        updateRenderState([\r\n          <Suspense fallback=\"\" key={Math.random() * 100}>\r\n            <FavoritePage key={Math.random() * 100} page={2} />\r\n          </Suspense>,\r\n          <NavicationBar key={Math.random() * 100} />,\r\n        ]);\r\n      }, 100);\r\n      this.props.goBackOnce ? window.history.go(-1) : window.history.go(-2);\r\n    } else if (isNameExist) {\r\n      S(\"#CreateMealNameInputContainer\").css({borderColor: \"#ff9800\"});\r\n      snackbarHandle(\"هذا الاسم موجود بالفعل\", \"warning\");\r\n      window.scrollTo({ top: 0 });\r\n    } else if (name.length === 0) {\r\n      S(\"#CreateMealNameInputContainer\").css({borderColor: \"#f44336\"});\r\n      snackbarHandle(\"ادخل اسم الوجبة\", \"error\");\r\n      window.scrollTo({ top: 0 });\r\n    } else if (content.length === 0) {\r\n      S(\"#addFoodToMeal\").css({borderColor: \"#f44336\"});\r\n      snackbarHandle(\"قم بإضافة طعام إلى الوجبة\", \"error\");\r\n    }\r\n\r\n    storeData();\r\n  };\r\n\r\n  createMealEditModeButtonHandle = () => {\r\n    const [name, oldName, content, data] = [\r\n      userData.favorite.tmpMeal.mealName.toLowerCase(),\r\n      this.props.oldName ? this.props.oldName.toLowerCase() : tmpOldName.toLowerCase(),\r\n      userData.favorite.tmpMeal.mealContent,\r\n      userData.favorite.meals,\r\n    ];\r\n    let doNameExist = false;\r\n    for (let i in data)\r\n      if (data[i].mealName.toLowerCase() === name && data[i].mealName.toLowerCase() !== oldName) doNameExist = true;\r\n\r\n    if (name.length > 0 && content.length > 0 && !doNameExist) {\r\n      const getIndex = data.indexOf(data.filter((e) => e.mealName === oldName)[0]);\r\n      data[getIndex].content = [...content];\r\n      data[getIndex].mealName = name;\r\n      window.history.go(-2);\r\n    } else if (doNameExist) {\r\n      S(\"#CreateMealNameInputContainer\").css({borderColor: \"#ff9800\"});\r\n      snackbarHandle(\"هذا الاسم موجود بالفعل\", \"warning\");\r\n      window.scrollTo({ top: 0 });\r\n    } else if (name.length === 0) {\r\n      S(\"#CreateMealNameInputContainer\").css({borderColor: \"#f44336\"});\r\n      snackbarHandle(\"ادخل اسم الوجبة\", \"error\");\r\n      window.scrollTo({ top: 0 });\r\n    } else if (content.length === 0) {\r\n      S(\"#addFoodToMeal\").css({borderColor: \"#f44336\"});\r\n      snackbarHandle(\"قم بإضافة طعام إلى الوجبة\", \"error\");\r\n    }\r\n    storeData();\r\n  };\r\n\r\n  addFoodToMealHandle = () => {\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <SearchPage key={Math.random() * 100} doAnimation={true} />\r\n      </Suspense>\r\n    );\r\n    if (this.props.editMode) {\r\n      window.history.pushState(\"\", \"\", \"/EditMeal/search\");\r\n    } else {\r\n      window.history.pushState(\"\", \"\", \"/CreateNewMeal/search\");\r\n    }\r\n  };\r\n\r\n  mealNameInputOnChangeHandle = (e) => (userData.favorite.tmpMeal.mealName = e.target.value);\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"CreateMealPage\">\r\n        <Snackbar />\r\n        <header id=\"CreateMealHeader\">\r\n          <svg id=\"CreateMealBack\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" onClick={this.backButtonHandle}>\r\n            <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n          </svg>\r\n          <p id=\"CreateMealHeaderTitle\">{this.props.editMode ? \"تعديل الوجبة\" : \"إنشاء وجبة جديدة\"}</p>\r\n        </header>\r\n\r\n        <div id=\"CreateMealNameInput\">\r\n          <div id=\"CreateMealNameInputContainer\">\r\n            <p>ادخــل اســم الــوجــبــة</p>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"اســم الــوجــبــة\"\r\n              onClick={(e) => {\r\n                S(\"#CreateMealNameInputContainer\").removeAttr(\"style\");\r\n              }}\r\n              onChange={this.mealNameInputOnChangeHandle}\r\n            />\r\n          </div>\r\n          <p id=\"addFoodToMeal\" onClick={this.addFoodToMealHandle}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z\" />\r\n            </svg>\r\n            إضـافـة طـعـام إلـى الـوجـبـة\r\n          </p>\r\n        </div>\r\n        <p id=\"CreateMealDone\" onClick={this.props.editMode ? this.createMealEditModeButtonHandle : this.createMealButtonHandle}>\r\n          {this.props.editMode ? \"حفظ التغيرات\" : \"إنـشـاء وحـفـظ الـوجـبـة\"}\r\n        </p>\r\n        <div id=\"CreateMealCards\">{this.renderMealCards()}</div>\r\n        <div id=\"CreateMealNutritionInfoContainer\">\r\n          <p id=\"CreateMealNutritionInfoTitle\">المعلومات الغذائية</p>\r\n          <div id=\"CreateMealNutritionInfoPercentContainer\">\r\n            <div id=\"CreateMealNutritionInfoCrabsPercent\"></div>\r\n            <div id=\"CreateMealNutritionInfoProteinPercent\"></div>\r\n            <div id=\"CreateMealNutritionInfoFatPercent\"></div>\r\n          </div>\r\n          <div id=\"CreateMealNutritionInfoDetail\">\r\n            <div id=\"CreateMealNutritionInfoTitles\">\r\n              <p className=\"CreateMealNutritionInfoMain\">السعرات الحرارية</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">البروتين</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">الكربوهيدرات</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">الألياف</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">السكر</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">الدهون</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">الدهون المشبعة</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">الدهون الغير مشبعة</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">آخر</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">الكوليسترول</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">الصوديوم</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">البوتاسيوم</p>\r\n            </div>\r\n            <div id=\"CreateMealNutritionInfoValues\">\r\n              <p className=\"CreateMealNutritionInfoMain\">{Number(this.calcNutrition(\"kcal\").toFixed(1))}</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">{Number(this.calcNutrition(\"protein\").toFixed(1))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">{Number(this.calcNutrition(\"carb\").toFixed(1))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{Number(this.calcNutrition(\"fiber\").toFixed(1))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{Number(this.calcNutrition(\"sugar\").toFixed(1))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoMain\">{Number(this.calcNutrition(\"fat\").toFixed(1))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{Number(this.calcNutrition(\"saturatedFat\").toFixed(2))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{Number(this.calcNutrition(\"unsaturatedFat\").toFixed(2))} غ</p>\r\n              <p className=\"CreateMealNutritionInfoMain\" style={{ visibility: \"hidden\" }}>\r\n                ......\r\n              </p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{this.calcNutrition(\"cholesterol\").toFixed(0)} ملغ</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{this.calcNutrition(\"sodium\").toFixed(0)} ملغ</p>\r\n              <p className=\"CreateMealNutritionInfoSub\">{this.calcNutrition(\"potassium\").toFixed(0)} ملغ</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}