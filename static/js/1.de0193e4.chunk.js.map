{"version":3,"sources":["SearchPage/SearchPage.js"],"names":["CategoriesList","React","lazy","ItemCard","FavoritePage","RecentlyAdded","CreateMeal","CreateFood","tmpSearchInput","SearchPage","state","searchData","favoritesData","mealsData","removeDuplicates","originalArray","prop","newArray","lookupObject","i","push","searchOnChangeHandle","searchInput","document","getElementById","value","length","S","css","display","removeAttr","searchByName","data","filter","e","name","toLowerCase","indexOf","searchByBrand","brand","favoritedata","userData","favorite","food","map","Object","assign","el","id","favoritByName","favoritByBrand","favoriteSearchdata","ComponentArray","dataCollection","meals","kcalSum","content","input","kcal","reduce","a","b","key","Math","random","mealName","ingredients","mealSearchData","props","setState","sort","nameA","toUpperCase","nameB","fallback","serving","round","description","window","location","pathname","introPageTransition","page","pageHeader","animate","position","bottom","left","opacity","transform","duration","cleanUp","transitionProperty","introPageFadeTransition","backButtonHandle","history","back","favoriteButtonHandle","updateRenderState","doAnimation","includes","pushState","hash","split","recentButtonHandle","categoriesButtonHandle","creatNewMealHandle","tmpMeal","mealContent","creatNewFoodHandle","checkHash","toggleCreateNew","getStyle","wait","this","lottie","loadAnimation","container","renderer","loop","autoplay","animationData","lottieNoResults","addEventListener","once","val","onClick","xmlns","viewBox","d","placeholder","autoComplete","type","onChange","className","width","height","style","Component"],"mappings":"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","file":"static/js/1.de0193e4.chunk.js","sourcesContent":["import React, { Component, Fragment, Suspense } from \"react\";\r\nimport \"../Styles/SearchPage.css\";\r\nimport { updateRenderState } from \"..\";\r\nimport { wait } from \"../dependencies\";\r\nimport { S } from \"selector_dom\";\r\nimport { data, userData } from \"../Data\";\r\nimport MealCard from \"../Meals/MealCard\";\r\nimport lottie from \"lottie-web\";\r\n\r\nimport lottieNoResults from \"../assets/lottieNoResults.json\";\r\n\r\nconst CategoriesList = React.lazy(() => import(\"./CategoriesList\"));\r\nconst ItemCard = React.lazy(() => import(\"../Foods/ItemCard\"));\r\nconst FavoritePage = React.lazy(() => import(\"../NavicationBar/FavoritePage\"));\r\nconst RecentlyAdded = React.lazy(() => import(\"./RecentlyAdded\"));\r\nconst CreateMeal = React.lazy(() => import(\"../Meals/CreateMeal\"));\r\nconst CreateFood = React.lazy(() => import(\"../Foods/CreateFood\"));\r\n\r\nlet tmpSearchInput = \"\";\r\n\r\nexport default class SearchPage extends Component {\r\n  state = {\r\n    searchData: \"\",\r\n    favoritesData: \"\",\r\n    mealsData: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.doAnimation ? this.introPageTransition() : this.introPageFadeTransition();\r\n\r\n    lottie.loadAnimation({\r\n      container: document.getElementById(\"lottieSearchNoResults\"),\r\n      renderer: \"svg\",\r\n      loop: true,\r\n      autoplay: true,\r\n      animationData: lottieNoResults,\r\n    });\r\n\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      () => {\r\n        if (window.location.pathname === \"/\" || window.location.pathname === \"/EditMeal\" || window.location.pathname === \"/CreateNewMeal\")\r\n          tmpSearchInput = \"\";\r\n      },\r\n      { once: true }\r\n    );\r\n\r\n    S(\"#searchBar\").val(tmpSearchInput);\r\n\r\n    this.searchOnChangeHandle();\r\n  }\r\n\r\n  removeDuplicates = (originalArray, prop) => {\r\n    var newArray = [];\r\n    var lookupObject = {};\r\n\r\n    for (var i in originalArray) {\r\n      lookupObject[originalArray[i][prop]] = originalArray[i];\r\n    }\r\n\r\n    for (i in lookupObject) {\r\n      newArray.push(lookupObject[i]);\r\n    }\r\n    return newArray;\r\n  };\r\n\r\n  searchOnChangeHandle = () => {\r\n    const searchInput = document.getElementById(\"searchBar\").value;\r\n    tmpSearchInput = searchInput;\r\n    searchInput.length > 0 ? S(\"#searchOption\").css({ display: \"none\" }) : S(\"#searchOption\").removeAttr(\"style\");\r\n    if (searchInput.length === 0) S(\"#lottieSearchNoResults\").css({ display: \"none\" });\r\n\r\n    if (searchInput.length > 1) {\r\n      const searchByName = data.filter((e) => e.name.toLowerCase().indexOf(searchInput.toLowerCase()) !== -1);\r\n      const searchByBrand = data.filter((e) => (e.brand ? e.brand.toLowerCase().indexOf(searchInput.toLowerCase()) !== -1 : \"\"));\r\n      const searchData = this.removeDuplicates([...searchByName, ...searchByBrand], \"id\");\r\n\r\n      const favoritedata = userData.favorite.food.map((e) => (e = Object.assign({}, data.filter((el) => el.id === e)[0])));\r\n      const favoritByName = favoritedata.filter((e) => e.name.toLowerCase().indexOf(searchInput.toLowerCase()) !== -1);\r\n      const favoritByBrand = favoritedata.filter((e) => (e.brand ? e.brand.toLowerCase().indexOf(searchInput.toLowerCase()) !== -1 : \"\"));\r\n      const favoriteSearchdata = this.removeDuplicates([...favoritByName, ...favoritByBrand], \"id\");\r\n\r\n      let ComponentArray = [];\r\n      let dataCollection = [...userData.favorite.meals];\r\n      for (let i in dataCollection) {\r\n        const mealdata = dataCollection[i].content.map(\r\n          (e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] }))\r\n        );\r\n        const kcalSum = mealdata.map((e) => (e.kcal * (e.value * e.input)) / 100).reduce((a, b) => a + b);\r\n        ComponentArray.push(\r\n          <MealCard\r\n            key={Math.random() * 1000}\r\n            name={dataCollection[i].mealName}\r\n            kcal={kcalSum}\r\n            ingredients={dataCollection[i].content.length}\r\n          />\r\n        );\r\n      }\r\n      const mealSearchData = ComponentArray.filter((e) => e.props.name.toLowerCase().indexOf(searchInput.toLowerCase()) !== -1);\r\n\r\n      if (favoriteSearchdata.length === 0 && mealSearchData.length === 0 && searchData.length === 0) {\r\n        S(\"#lottieSearchNoResults\").css({ display: \"block\" });\r\n      } else {\r\n        S(\"#lottieSearchNoResults\").css({ display: \"none\" });\r\n      }\r\n      \r\n      this.setState({\r\n        searchData: searchData\r\n          .sort((a, b) => {\r\n            const nameA = a.name.toUpperCase();\r\n            const nameB = b.name.toUpperCase();\r\n            if (nameA < nameB) return -1;\r\n            if (nameA > nameB) return 1;\r\n            return 0;\r\n          })\r\n          .map((e) => (\r\n            <Suspense fallback=\"\" key={Math.random() * 100}>\r\n              <ItemCard\r\n                key={e.id}\r\n                name={e.name}\r\n                kcal={e.serving ? Math.round((e.kcal / 100) * e.serving[0][1]) : e.kcal}\r\n                serving={e.serving ? e.serving[0][0] : \"كل (100) غرام\"}\r\n                id={e.id}\r\n                brand={e.brand}\r\n                description={e.description}\r\n              />\r\n            </Suspense>\r\n          )),\r\n        favoritesData: favoriteSearchdata.map((e) => (\r\n          <Suspense fallback=\"\" key={Math.random() * 100}>\r\n            <ItemCard\r\n              key={e.id}\r\n              name={e.name}\r\n              kcal={e.serving ? Math.round((e.kcal / 100) * e.serving[0][1]) : e.kcal}\r\n              serving={e.serving ? e.serving[0][0] : \"كل (100) غرام\"}\r\n              id={e.id}\r\n              brand={e.brand}\r\n              description={e.description}\r\n            />\r\n          </Suspense>\r\n        )),\r\n        mealsData: window.location.pathname === \"/EditMeal/search\" ? \"\" : mealSearchData,\r\n      });\r\n    } else if (searchInput.length < 3) {\r\n      this.setState({ searchData: \"\", favoritesData: \"\", mealsData: \"\" });\r\n    }\r\n  };\r\n\r\n  introPageTransition = async () => {\r\n    const page = document.getElementById(\"SearchPage\");\r\n    const pageHeader = document.getElementById(\"searchPageHeader\");\r\n\r\n    // page.style.cssText = `position: fixed; bottom: 50%; left: 50%; opacity: 0; transform: translate(-50%, 100%); transition: bottom 200ms`;\r\n    // pageHeader.style.position = \"relative\";\r\n\r\n    // await wait(10);\r\n    // page.style.bottom = \"100%\";\r\n    // page.style.opacity = \"1\";\r\n\r\n    // await wait(200);\r\n    // page.removeAttribute(\"style\");\r\n    // pageHeader.removeAttribute(\"style\");\r\n    S(page).animate(\r\n      { position: \"fixed\", bottom: \"50%\", left: \"50%\", opacity: \"0\", transform: \"translate(-50%, 100%)\" },\r\n      { bottom: \"100%\", opacity: \"1\" },\r\n      { duration: 200, cleanUp: true, transitionProperty: \"bottom\" }\r\n    );\r\n    S(pageHeader).animate({ position: \"relative\" }, {}, { duration: 200, cleanUp: true, transitionProperty: \"none\" });\r\n  };\r\n\r\n  introPageFadeTransition = async () => {\r\n    // const page = document.getElementById(\"SearchPage\");\r\n    // page.style.opacity = \"0\";\r\n    // page.style.transition = \"opacity 350ms\";\r\n    // await wait(20);\r\n    // page.style.opacity = \"1\";\r\n    // await wait(350);\r\n    // page.removeAttribute(\"style\");\r\n    S(\"#SearchPage\").animate({ opacity: \"0\" }, { opacity: \"1\" }, { transitionProperty: \"opacity\", cleanUp: true, duration: 350 });\r\n  };\r\n\r\n  backButtonHandle = () => window.history.back();\r\n\r\n  favoriteButtonHandle = () => {\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <FavoritePage key={Math.random() * 100} doAnimation={true} />\r\n      </Suspense>\r\n    );\r\n    if (window.location.pathname.includes(\"CreateNewMeal\")) {\r\n      window.history.pushState(\"\", \"\", \"/CreateNewMeal/favorites\");\r\n    } else if (window.location.pathname.includes(\"EditMeal\")) {\r\n      window.history.pushState(\"\", \"\", \"/EditMeal/favorites\");\r\n    } else {\r\n      window.history.pushState(\"\", \"\", \"/favorites#\" + window.location.hash.split(\"#\")[1]);\r\n    }\r\n  };\r\n\r\n  recentButtonHandle = () => {\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <RecentlyAdded key={Math.random() * 100} doAnimation={true} />\r\n      </Suspense>\r\n    );\r\n    if (window.location.pathname.includes(\"CreateNewMeal\")) {\r\n      window.history.pushState(\"\", \"\", \"/CreateNewMeal/recentlyAdded\");\r\n    } else if (window.location.pathname.includes(\"EditMeal\")) {\r\n      window.history.pushState(\"\", \"\", \"/EditMeal/recentlyAdded\");\r\n    } else {\r\n      window.history.pushState(\"\", \"\", \"/recentlyAdded#\" + window.location.hash.split(\"#\")[1]);\r\n    }\r\n  };\r\n\r\n  categoriesButtonHandle = () => {\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <CategoriesList key={Math.random() * 100} />\r\n      </Suspense>\r\n    );\r\n    if (window.location.pathname.includes(\"CreateNewMeal\")) {\r\n      window.history.pushState(\"\", \"\", \"/CreateNewMeal/categoriesList\");\r\n    } else if (window.location.pathname.includes(\"EditMeal\")) {\r\n      window.history.pushState(\"\", \"\", \"/EditMeal/categoriesList\");\r\n    } else {\r\n      window.history.pushState(\"\", \"\", \"/categoriesList\" + window.location.hash);\r\n    }\r\n  };\r\n\r\n  creatNewMealHandle = () => {\r\n    userData.favorite.tmpMeal.mealName = \"\";\r\n    userData.favorite.tmpMeal.mealContent = [];\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <CreateMeal key={Math.random() * 100} doAnimation={true} />\r\n      </Suspense>\r\n    );\r\n    window.history.pushState(\"\", \"\", \"/CreateNewMeal\");\r\n  };\r\n\r\n  creatNewFoodHandle = () => {\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <CreateFood key={Math.random() * 100} />\r\n      </Suspense>\r\n    );\r\n    window.history.pushState(\"\", \"\", \"/CreateNewFood\");\r\n  };\r\n\r\n  checkHash = () => {\r\n    let hash;\r\n    if (window.location.pathname.includes(\"CreateNewMeal\") || window.location.pathname.includes(\"EditMeal\")) {\r\n      hash = \"إضافة طعام إلى الوجبة\";\r\n    } else {\r\n      switch (window.location.hash.split(\"#\")[1]) {\r\n        case \"breakfast\":\r\n          hash = \"الفطور\";\r\n          break;\r\n        case \"lunch\":\r\n          hash = \"الغداء\";\r\n          break;\r\n        case \"dinner\":\r\n          hash = \"العشاء\";\r\n          break;\r\n        case \"snacks\":\r\n          hash = \"وجبة خفيفة\";\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    return hash;\r\n  };\r\n\r\n  toggleCreateNew = async () => {\r\n    const getDisplay = S(\"#createNewBG\").getStyle(\"display\");\r\n    if (getDisplay === \"none\") {\r\n      S(\"#createNewBG\").css({ display: \"block\" });\r\n      S(\"#createNewContainer\").css({ display: \"block\" });\r\n      await wait(20);\r\n      S(\"#createNewBG\").css({ opacity: 1 });\r\n      S(\"#createNewContainer\").css({ opacity: 1 });\r\n    } else {\r\n      S(\"#createNewBG\").css({ opacity: 0 });\r\n      S(\"#createNewContainer\").css({ opacity: 0 });\r\n      await wait(350);\r\n      S(\"#createNewBG\").removeAttr(\"style\");\r\n      S(\"#createNewContainer\").removeAttr(\"style\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div id=\"createNewBG\" onClick={this.toggleCreateNew}></div>\r\n        <div id=\"createNewContainer\">\r\n          <p onClick={this.creatNewFoodHandle}>إنـــشـــاء طـــعـــام جـــديـــد</p>\r\n          <p onClick={this.creatNewMealHandle}>إنـــشـــاء وجـــبـــة جـــديـــدة</p>\r\n        </div>\r\n        <div id=\"SearchPage\">\r\n          <header id=\"searchPageHeader\">\r\n            <div id=\"searchPageHeaderTopContainer\">\r\n              <p id=\"searchPageHeaderTitle\">{this.checkHash()}</p>\r\n              <svg id=\"searchPageBack\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" onClick={this.backButtonHandle}>\r\n                <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n              </svg>\r\n            </div>\r\n            <input id=\"searchBar\" placeholder=\"بحث\" autoComplete=\"off\" type=\"search\" onChange={this.searchOnChangeHandle} />\r\n          </header>\r\n          <div>\r\n            <p className=\"searchResultsTitles\">{this.state.mealsData.length > 0 ? \"الوجبات\" : \"\"}</p>\r\n            {this.state.mealsData}\r\n          </div>\r\n          <div>\r\n            <p className=\"searchResultsTitles\">{this.state.favoritesData.length > 0 ? \"المفضلة\" : \"\"}</p>\r\n            {this.state.favoritesData}\r\n          </div>\r\n          <div>\r\n            <p className=\"searchResultsTitles\">{this.state.searchData.length > 0 ? \"النتائج\" : \"\"}</p>\r\n            {this.state.searchData}\r\n          </div>\r\n          <div id=\"lottieSearchNoResults\">\r\n            <p id=\"searchNoResults\">لا يوجد نتائج</p>\r\n          </div>\r\n          <div id=\"searchOption\">\r\n            <p onClick={this.categoriesButtonHandle}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M21.639 14l-1.333 8h-16.612l-1.333-8h19.278zm2.361-2h-24l2 12h20l2-12zm-19.226-2l2.667-8h9.117l2.667 8h2.107l-3.332-10h-12l-3.333 10h2.107zm3.248-5l-.333 1h8.621l-.333-1h-7.955zm-.667 2l-.333 1h9.955l-.333-1h-9.289zm10.29 3l-.333-1h-10.624l-.333 1h11.29zm-8.956-7l-.333 1h7.288l-.334-1h-6.621zm6.311 13h-6v2h6v-2z\" />\r\n              </svg>\r\n              الأصناف\r\n            </p>\r\n            <p onClick={this.recentButtonHandle}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M11 6v8h7v-2h-5v-6h-2zm-8.4 9.397l-1.799.906c-.302-.784-.521-1.607-.652-2.46l1.998-.159c.1.59.253 1.162.453 1.713zm4.393 7.501l.669-1.899c-.549-.265-1.068-.577-1.555-.933l-1.413 1.443c.708.545 1.478 1.012 2.299 1.389zm-5.319-4.795c.44.741.956 1.43 1.539 2.058l1.404-1.433c-.431-.471-.814-.982-1.149-1.528l-1.794.903zm10.322-18.103c-2.79 0-5.349.964-7.385 2.562l-2.183-2.183-1.356 7.013 7.015-1.354-2.05-2.049c1.666-1.245 3.724-1.989 5.959-1.989 5.516 0 10.003 4.486 10.003 10s-4.487 10-10.003 10c-.848 0-1.668-.118-2.455-.317l-.665 1.894c.996.267 2.039.423 3.12.423 6.629 0 12.004-5.373 12.004-12s-5.375-12-12.004-12zm-11.996 11.849l2.015-.161c.027-.703.125-1.386.288-2.047h-2.076c-.142.714-.217 1.453-.227 2.208z\" />\r\n              </svg>\r\n              المضافة مؤخراً\r\n            </p>\r\n            <p onClick={this.favoriteButtonHandle}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M6.28 3c3.236.001 4.973 3.491 5.72 5.031.75-1.547 2.469-5.021 5.726-5.021 2.058 0 4.274 1.309 4.274 4.182 0 3.442-4.744 7.851-10 13-5.258-5.151-10-9.559-10-13 0-2.676 1.965-4.193 4.28-4.192zm.001-2c-3.183 0-6.281 2.187-6.281 6.192 0 4.661 5.57 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-4.011-3.097-6.182-6.274-6.182-2.204 0-4.446 1.042-5.726 3.238-1.285-2.206-3.522-3.248-5.719-3.248z\" />\r\n              </svg>\r\n              المفضلة\r\n            </p>\r\n            <p\r\n              id=\"createNew\"\r\n              onClick={this.toggleCreateNew}\r\n              style={{\r\n                display:\r\n                  window.location.pathname.includes(\"CreateNewMeal\") || window.location.pathname.includes(\"EditMeal\") ? \"none\" : \"grid\",\r\n              }}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z\" />\r\n              </svg>\r\n              إنشاء جديد\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}