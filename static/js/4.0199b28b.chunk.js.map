{"version":3,"sources":["Meals/MealViewer.js"],"names":["tmpMealName","tmpKcal","ItemCard","React","lazy","CreateMeal","MealViewer","props","getMealData","useCallback","userData","favorite","meals","filter","e","mealName","name","content","map","Object","assign","data","el","id","value","input","sumNutrition","n","reduce","a","b","fatPercent","Math","min","max","round","kcal","proteinPercent","carbPercent","CalcCarbPercent","addProgressBars","S","progress","strokeColor","textColor","strokeBackgroundColor","strokeLinecap","carbsTitle","document","createElement","proteinTitle","fatTitle","classList","add","innerHTML","getElementById","append","useEffect","doAnimation","introPageTransition","introPageFadeTransition","querySelector","setAttribute","JSON","parse","window","localStorage","getItem","animate","position","bottom","left","transform","duration","cleanUp","transitionProperty","ease","css","opacity","page","style","transition","wait","removeAttribute","toggleConfirm","getStyle","display","removeAttr","onClick","getIndex","indexOf","splice","storeData","history","back","gridTemplateColumns","location","pathname","includes","xmlns","viewBox","d","tmpMeal","mealContent","updateRenderState","fallback","key","random","editMode","oldName","pushState","hash","split","checkHash","mealData","val","getDataByDate","diary","date","dateGetter","dateIndex","push","className","serving","brand","description","Number","toFixed","visibility"],"mappings":"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","file":"static/js/4.0199b28b.chunk.js","sourcesContent":["import React, { Fragment, Suspense, useEffect, useCallback } from \"react\";\r\nimport \"../Styles/MealViewer.css\";\r\nimport { wait } from \"../dependencies\";\r\nimport { S } from \"selector_dom\";\r\nimport { userData, data, storeData } from \"../Data\";\r\nimport { updateRenderState } from \"..\";\r\nimport { dateGetter, dateIndex } from \"../NavicationBar/MainPage\";\r\n\r\nconst ItemCard = React.lazy(() => import(\"../Foods/ItemCard\"));\r\nconst CreateMeal = React.lazy(() => import(\"./CreateMeal\"));\r\n\r\nlet tmpMealName;\r\nlet tmpKcal;\r\nexport default function MealViewer(props) {\r\n  const getMealData = useCallback(() => {\r\n    return userData.favorite.meals\r\n      .filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0]\r\n      .content.map((e) => (e = Object.assign({}, data.filter((el) => el.id === e[0])[0], { value: e[1], input: e[2] })));\r\n  }, [props.name]);\r\n\r\n  const sumNutrition = useCallback(\r\n    (n) =>\r\n      getMealData()\r\n        .map((e) => ((e.value * e.input) / 100) * e[n])\r\n        .reduce((a, b) => a + b),\r\n    [getMealData]\r\n  );\r\n\r\n  const fatPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"fat\") * 9) / (props.kcal ? props.kcal : tmpKcal)) * 100), 0), 100),\r\n    [props.kcal, sumNutrition]\r\n  );\r\n\r\n  const proteinPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"protein\") * 4) / (props.kcal ? props.kcal : tmpKcal)) * 100), 0), 100),\r\n    [props.kcal, sumNutrition]\r\n  );\r\n\r\n  const carbPercent = useCallback(\r\n    () => Math.min(Math.max(Math.round(((sumNutrition(\"carb\") * 4) / (props.kcal ? props.kcal : tmpKcal)) * 100), 0), 100),\r\n    [props.kcal, sumNutrition]\r\n  );\r\n\r\n  const CalcCarbPercent = useCallback(\r\n    () => (carbPercent() > 15 ? Math.min(Math.max(100 - (fatPercent() + proteinPercent()), 0), 100) : carbPercent()),\r\n    [carbPercent, fatPercent, proteinPercent]\r\n  );\r\n\r\n  const addProgressBars = useCallback(() => {\r\n    S(\"#mealNutritionInfoCrabsPercent\").progress({\r\n      input: CalcCarbPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    S(\"#mealNutritionInfoProteinPercent\").progress({\r\n      input: proteinPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    S(\"#mealNutritionInfoFatPercent\").progress({\r\n      input: fatPercent(),\r\n      strokeColor: \"var(--text-kinda-black)\",\r\n      textColor: \"var(--text-kinda-black)\",\r\n      strokeBackgroundColor: \"var(--background-gray)\",\r\n      strokeLinecap: \"none\",\r\n    });\r\n    const carbsTitle = document.createElement(\"p\");\r\n    const proteinTitle = document.createElement(\"p\");\r\n    const fatTitle = document.createElement(\"p\");\r\n    carbsTitle.classList.add(\"mealPercentTitles\");\r\n    proteinTitle.classList.add(\"mealPercentTitles\");\r\n    fatTitle.classList.add(\"mealPercentTitles\");\r\n    carbsTitle.innerHTML = \"الكربوهيدرات\";\r\n    proteinTitle.innerHTML = \"البروتين\";\r\n    fatTitle.innerHTML = \"الدهون\";\r\n    document.getElementById(\"mealNutritionInfoCrabsPercent\").append(carbsTitle);\r\n    document.getElementById(\"mealNutritionInfoProteinPercent\").append(proteinTitle);\r\n    document.getElementById(\"mealNutritionInfoFatPercent\").append(fatTitle);\r\n  }, [fatPercent, proteinPercent, CalcCarbPercent]);\r\n\r\n  useEffect(() => {\r\n    props.doAnimation ? introPageTransition() : introPageFadeTransition();\r\n\r\n    addProgressBars();\r\n\r\n    if (props.name) {\r\n      tmpMealName = props.name;\r\n      tmpKcal = props.kcal;\r\n    }\r\n    document.querySelector(\"meta[name=theme-color]\").setAttribute(\"content\", JSON.parse(window.localStorage.getItem(\"theme\"))[1]);\r\n    return () => {\r\n      document\r\n        .querySelector(\"meta[name=theme-color]\")\r\n        .setAttribute(\"content\", JSON.parse(window.localStorage.getItem(\"theme\"))[0]);\r\n    };\r\n  }, [props.doAnimation, addProgressBars, props.kcal, props.name]);\r\n\r\n  const renderFoodsInTheMeal = () => {\r\n    return getMealData().map((e) => (\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <ItemCard\r\n          key={e.id + Math.random() * 1000}\r\n          name={e.name}\r\n          kcal={Math.round((e.kcal / 100) * (e.value * e.input))}\r\n          serving={e.value === 1 ? e.input + \" غرام \" : e.input + \"  \" + e.serving.filter((el) => el[1] === e.value)[0][0]}\r\n          id={e.id}\r\n          brand={e.brand}\r\n          description={e.description}\r\n          value={e.value}\r\n          input={e.input}\r\n        />\r\n      </Suspense>\r\n    ));\r\n  };\r\n\r\n  const introPageTransition = async () => {\r\n    S(\"#mealViewerPage\").animate(\r\n      { position: \"fixed\", bottom: \"75%\", left: \"50%\", transform: \"translate(-50%, 100%)\" },\r\n      { bottom: \"100%\" },\r\n      { duration: 150, cleanUp: true, transitionProperty: \"all\", ease: \"ease-out\" }\r\n    );\r\n    S(\"#mealViewerHeader\").animate({ position: \"relative\" }, {}, { duration: 200, cleanUp: true, transitionProperty: \"none\" });\r\n    S(\"#mealViewerPage\").css({ opacity: \"1\" });\r\n  };\r\n\r\n  const introPageFadeTransition = async () => {\r\n    const page = document.getElementById(\"mealViewerPage\");\r\n    page.style.opacity = \"0\";\r\n    page.style.transition = \"opacity 350ms\";\r\n    await wait(20);\r\n    page.style.opacity = \"1\";\r\n    await wait(350);\r\n    page.removeAttribute(\"style\");\r\n  };\r\n\r\n  const okButtonHandle = () => {\r\n    const mealData = userData.favorite.meals.filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0].content;\r\n    const mealName =\r\n      window.location.hash === \"#Meals#MealViewer\" ? S(\"#mealViewerSelectMeal\").val() : window.location.hash.split(\"#\")[2];\r\n    const getDataByDate = userData.diary.filter((e) => e.date === dateGetter(dateIndex))[0];\r\n    if (getDataByDate) {\r\n      getDataByDate[mealName] ? getDataByDate[mealName].push(...mealData) : (getDataByDate[mealName] = [...mealData]);\r\n    } else {\r\n      userData.diary.push({ date: dateGetter(dateIndex), [mealName]: [...mealData] });\r\n    }\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  const trashButtonHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.meals.splice(getIndex, 1);\r\n\r\n    storeData();\r\n    window.history.back();\r\n  };\r\n\r\n  const editHandle = () => {\r\n    const getIndex = userData.favorite.meals.indexOf(\r\n      userData.favorite.meals.filter((e) => e.mealName === (props.name ? props.name : tmpMealName))[0]\r\n    );\r\n    userData.favorite.tmpMeal.mealName = props.name ? props.name : tmpMealName;\r\n    userData.favorite.tmpMeal.mealContent = [...userData.favorite.meals[getIndex].content];\r\n    updateRenderState(\r\n      <Suspense fallback=\"\" key={Math.random() * 100}>\r\n        <CreateMeal\r\n          key={Math.random() * 100}\r\n          doAnimation={true}\r\n          editMode={true}\r\n          oldName={props.name ? props.name : tmpMealName}\r\n        />\r\n      </Suspense>\r\n    );\r\n    window.history.pushState(\"\", \"\", \"/EditMeal\");\r\n  };\r\n\r\n  const backButtonHandle = () => window.history.back();\r\n\r\n  const toggleConfirm = async () => {\r\n    const getDisplay = S(\"#mealViewerConfirmBG\").getStyle(\"display\");\r\n    if (getDisplay === \"none\") {\r\n      S(\"#mealViewerConfirmBG\").css({ display: \"block\" });\r\n      S(\"#mealViewerConfirmContainer\").css({ display: \"block\" });\r\n      await wait(20);\r\n      S(\"#mealViewerConfirmBG\").css({ opacity: 1 });\r\n      S(\"#mealViewerConfirmContainer\").css({ opacity: 1, bottom: \"50%\" });\r\n    } else {\r\n      S(\"#mealViewerConfirmBG\").css({ opacity: 0 });\r\n      S(\"#mealViewerConfirmContainer\").css({ opacity: 0 });\r\n      await wait(350);\r\n      S(\"#mealViewerConfirmBG\").removeAttr(\"style\");\r\n      S(\"#mealViewerConfirmContainer\").removeAttr(\"style\");\r\n    }\r\n  };\r\n\r\n  const checkHash = () => {\r\n    let hash;\r\n    switch (window.location.hash.split(\"#\")[2]) {\r\n      case \"breakfast\":\r\n        hash = \"الفطور\";\r\n        break;\r\n      case \"lunch\":\r\n        hash = \"الغداء\";\r\n        break;\r\n      case \"dinner\":\r\n        hash = \"العشاء\";\r\n        break;\r\n      case \"snacks\":\r\n        hash = \"وجبة خفيفة\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return hash;\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div id=\"mealViewerConfirmBG\" onClick={toggleConfirm}></div>\r\n      <div id=\"mealViewerConfirmContainer\">\r\n        <p>هل تريد حذف هذه الوجبة من المفضلة؟</p>\r\n        <button onClick={trashButtonHandle}>نعم</button>\r\n        <button onClick={toggleConfirm}>لا</button>\r\n      </div>\r\n      <div id=\"mealViewerPage\">\r\n        <header\r\n          id=\"mealViewerHeader\"\r\n          style={{\r\n            gridTemplateColumns: window.location.pathname.includes(\"search\") ? \"repeat(1, 1fr) 0.4fr\" : \"repeat(2, 1fr) 0.4fr\",\r\n          }}\r\n        >\r\n          <svg id=\"mealViewerBackButton\" onClick={backButtonHandle} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n          </svg>\r\n          <svg\r\n            id=\"mealViewerTrashCan\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            onClick={toggleConfirm}\r\n            style={{ display: window.location.pathname.includes(\"search\") ? \"none\" : \"block\" }}\r\n          >\r\n            <path d=\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\" />\r\n          </svg>\r\n          <svg\r\n            id=\"mealViewerEdit\"\r\n            onClick={editHandle}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            style={{ display: window.location.pathname.includes(\"search\") ? \"none\" : \"block\" }}\r\n          >\r\n            <path d=\"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z\" />\r\n          </svg>\r\n          <p id=\"mealViewerHeaderTitle\" style={{ display: window.location.pathname.includes(\"search\") ? \"block\" : \"none\" }}>\r\n            {checkHash()}\r\n          </p>\r\n        </header>\r\n        <div id=\"mealViewerHeaderButtonsContainer\">\r\n          <p id=\"mealViewerHeaderItemName\">{props.name ? props.name : tmpMealName}</p>\r\n\r\n          <div id=\"mealViewerOkButtonBg\" onClick={okButtonHandle}>\r\n            <svg id=\"mealViewerOkButton\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z\" />\r\n            </svg>\r\n          </div>\r\n          <div id=\"mealViewerOkButtonAnimation1\"></div>\r\n          <div id=\"mealViewerOkButtonAnimation2\"></div>\r\n        </div>\r\n\r\n        <p id=\"mealViewerKcal\">\r\n          {Math.round(props.kcal || props.kcal === 0 ? props.kcal : tmpKcal)}\r\n          <span>سعرة حرارية</span>\r\n        </p>\r\n        <div\r\n          id=\"mealViewerSelectMealContainer\"\r\n          style={{ display: window.location.hash === \"#Meals#MealViewer\" ? \"block\" : \"none\" }}\r\n        >\r\n          <select id=\"mealViewerSelectMeal\">\r\n            <option className=\"itemViewerSelectMealItems\" value=\"breakfast\">\r\n              الفطور\r\n            </option>\r\n            <option className=\"itemViewerSelectMealItems\" value=\"lunch\">\r\n              الغداء\r\n            </option>\r\n            <option className=\"itemViewerSelectMealItems\" value=\"dinner\">\r\n              العشاء\r\n            </option>\r\n            <option className=\"itemViewerSelectMealItems\" value=\"snacks\">\r\n              وجبة خفيفة\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div id=\"mealNutritionInfoPercentContainer\">\r\n          <div id=\"mealNutritionInfoCrabsPercent\"></div>\r\n          <div id=\"mealNutritionInfoProteinPercent\"></div>\r\n          <div id=\"mealNutritionInfoFatPercent\"></div>\r\n        </div>\r\n        <div id=\"foodsInTheMealContainer\">\r\n          <p className=\"mealViewerInfoTitles\">الطعام الموجود في الوجبة</p>\r\n          {renderFoodsInTheMeal()}\r\n        </div>\r\n        <p className=\"mealViewerInfoTitles\">المعلومات الغذائية للوجبة</p>\r\n        <div id=\"mealViewerNutritionInfoDetail\">\r\n          <div id=\"mealViewerNutritionInfoTitles\">\r\n            <p className=\"mealViewerNutritionInfoMain\">البروتين</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">الكربوهيدرات</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الألياف</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">السكر</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">الدهون</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الدهون المشبعة</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الدهون الغير مشبعة</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">آخر</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الكوليسترول</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">الصوديوم</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">البوتاسيوم</p>\r\n          </div>\r\n          <div id=\"mealViewerNutritionInfoValues\">\r\n            <p className=\"mealViewerNutritionInfoMain\">{Number(sumNutrition(\"protein\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">{Number(sumNutrition(\"carb\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"fiber\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"sugar\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoMain\">{Number(sumNutrition(\"fat\").toFixed(1))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"saturatedFat\").toFixed(2))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{Number(sumNutrition(\"unsaturatedFat\").toFixed(2))} غ</p>\r\n            <p className=\"mealViewerNutritionInfoMain\" style={{ visibility: \"hidden\" }}>\r\n              ......\r\n            </p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{sumNutrition(\"cholesterol\").toFixed(0)} ملغ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{sumNutrition(\"sodium\").toFixed(0)} ملغ</p>\r\n            <p className=\"mealViewerNutritionInfoSub\">{sumNutrition(\"potassium\").toFixed(0)} ملغ</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}