(this["webpackJsonpmy-daily-calories"]=this["webpackJsonpmy-daily-calories"]||[]).push([[0],{105:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n,r=a(8),o=a(0),i=a.n(o),l=(a(105),a(4)),c=a(1),u=a(2),m=a(5),s=a(13),d=i.a.lazy((function(){return Promise.resolve().then(a.bind(null,31))})),f=i.a.lazy((function(){return Promise.resolve().then(a.bind(null,20))})),M=i.a.lazy((function(){return a.e(1).then(a.bind(null,101))}));function C(e){var t=Object(o.useCallback)((function(e){var t=v();return t?t.map((function(t){return t[e]*(t.value*t.input)/100})).reduce((function(e,t){return e+t})):0}),[]),a=Object(o.useCallback)((function(){return Math.min(Math.max(Math.round(4*t("protein")/t("kcal")*100),0),100)}),[t]),C=Object(o.useCallback)((function(){return Math.min(Math.max(Math.round(9*t("fat")/t("kcal")*100),0),100)}),[t]),p=Object(o.useCallback)((function(){return Math.min(Math.max(Math.round(4*t("carb")/t("kcal")*100),0),100)}),[t]),b=Object(o.useCallback)((function(){return p()>15?Math.min(Math.max(100-(C()+a()),0),100):p()}),[p,C,a]),N=Object(o.useCallback)((function(){Object(c.a)("#CreateMealNutritionInfoCrabsPercent").progress({input:b(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(c.a)("#CreateMealNutritionInfoProteinPercent").progress({input:a(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(c.a)("#CreateMealNutritionInfoFatPercent").progress({input:C(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"});var e=document.createElement("p"),t=document.createElement("p"),n=document.createElement("p");e.classList.add("CreateMealPercentTitles"),t.classList.add("CreateMealPercentTitles"),n.classList.add("CreateMealPercentTitles"),e.innerHTML="\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a",t.innerHTML="\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646",n.innerHTML="\u0627\u0644\u062f\u0647\u0648\u0646",document.getElementById("CreateMealNutritionInfoCrabsPercent").append(e),document.getElementById("CreateMealNutritionInfoProteinPercent").append(t),document.getElementById("CreateMealNutritionInfoFatPercent").append(n)}),[b,C,a]);Object(o.useLayoutEffect)((function(){e.doAnimation?Object(l.c)("CreateMealPage"):Object(l.b)("CreateMealPage")})),Object(o.useEffect)((function(){e.oldName&&(n=e.oldName),N(),Object(c.a)("#CreateMealNameInputContainer input").val(u.i.favorite.tmpMeal.mealName)}),[e.doAnimation,e.oldName,N]);var v=function(){var e=u.i.favorite.tmpMeal.mealContent;return e.length>0?e.map((function(e){return e=Object.assign({},u.b.filter((function(t){return t.id===e[0]}))[0],{value:e[1],input:e[2]})})):void 0};return i.a.createElement("div",{id:"CreateMealPage"},i.a.createElement(l.a,null),i.a.createElement("header",{id:"CreateMealPageHeader"},i.a.createElement("svg",{id:"CreateMealBack",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:function(){return window.history.back()}},i.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),i.a.createElement("p",{id:"CreateMealHeaderTitle"},e.editMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0648\u062c\u0628\u0629":"\u0625\u0646\u0634\u0627\u0621 \u0648\u062c\u0628\u0629 \u062c\u062f\u064a\u062f\u0629")),i.a.createElement("div",{id:"CreateMealNameInput"},i.a.createElement("div",{id:"CreateMealNameInputContainer"},i.a.createElement("p",null,"\u0627\u062f\u062e\u0640\u0640\u0644 \u0627\u0633\u0640\u0640\u0645 \u0627\u0644\u0640\u0640\u0648\u062c\u0640\u0640\u0628\u0640\u0640\u0629"),i.a.createElement("input",{type:"text",placeholder:"\u0627\u0633\u0640\u0640\u0645 \u0627\u0644\u0640\u0640\u0648\u062c\u0640\u0640\u0628\u0640\u0640\u0629",onClick:function(e){Object(c.a)("#CreateMealNameInputContainer").removeAttr("style")},onChange:function(e){return u.i.favorite.tmpMeal.mealName=e.target.value}})),i.a.createElement("p",{id:"addFoodToMeal",onClick:function(){Object(m.updateRenderState)(i.a.createElement(o.Suspense,{fallback:"",key:100*Math.random()},i.a.createElement(M,{key:100*Math.random(),doAnimation:!0}))),e.editMode?window.history.pushState("","","/EditMeal/search"):window.history.pushState("","","/CreateNewMeal/search")}},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})),"\u0625\u0636\u0640\u0627\u0641\u0640\u0629 \u0637\u0640\u0639\u0640\u0627\u0645 \u0625\u0644\u0640\u0649 \u0627\u0644\u0640\u0648\u062c\u0640\u0628\u0640\u0629")),i.a.createElement("p",{id:"CreateMealDone",onClick:e.editMode?function(){var t=[u.i.favorite.tmpMeal.mealName.toLowerCase(),e.oldName?e.oldName.toLowerCase():n.toLowerCase(),u.i.favorite.tmpMeal.mealContent,u.i.favorite.meals],a=t[0],o=t[1],i=t[2],m=t[3],s=!1;for(var d in m)m[d].mealName.toLowerCase()===a&&m[d].mealName.toLowerCase()!==o&&(s=!0);if(a.length>0&&i.length>0&&!s){var f=m.indexOf(m.filter((function(e){return e.mealName===o}))[0]);m[f].content=Object(r.a)(i),m[f].mealName=a,window.history.go(-2)}else s?(Object(c.a)("#CreateMealNameInputContainer").css({borderColor:"#ff9800"}),Object(l.e)("\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644","warning"),window.scrollTo({top:0})):0===a.length?(Object(c.a)("#CreateMealNameInputContainer").css({borderColor:"#f44336"}),Object(l.e)("\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062c\u0628\u0629","error"),window.scrollTo({top:0})):0===i.length&&(Object(c.a)("#addFoodToMeal").css({borderColor:"#f44336"}),Object(l.e)("\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0637\u0639\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0648\u062c\u0628\u0629","error"));Object(u.f)()}:function(){var t=[u.i.favorite.tmpMeal.mealName.toLowerCase(),u.i.favorite.tmpMeal.mealContent],a=t[0],n=t[1],f=!1;for(var M in u.i.favorite.meals)u.i.favorite.meals[M].mealName.toLowerCase()===a&&(f=!0);a.length>0&&n.length>0&&!f?(u.i.favorite.meals.unshift({mealName:a.toString(),content:Object(r.a)(n)}),u.i.favorite.tmpMeal.mealName="",u.i.favorite.tmpMeal.mealContent=[],setTimeout((function(){window.history.pushState("","","/favorites"),Object(m.updateRenderState)([i.a.createElement(o.Suspense,{fallback:"",key:100*Math.random()},i.a.createElement(d,{key:100*Math.random(),page:2})),i.a.createElement(s.a,{key:100*Math.random()})])}),100),e.goBackOnce?window.history.go(-1):window.history.go(-2)):f?(Object(c.a)("#CreateMealNameInputContainer").css({borderColor:"#ff9800"}),Object(l.e)("\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644","warning"),window.scrollTo({top:0})):0===a.length?(Object(c.a)("#CreateMealNameInputContainer").css({borderColor:"#f44336"}),Object(l.e)("\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062c\u0628\u0629","error"),window.scrollTo({top:0})):0===n.length&&(Object(c.a)("#addFoodToMeal").css({borderColor:"#f44336"}),Object(l.e)("\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0637\u0639\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0648\u062c\u0628\u0629","error")),Object(u.f)()}},e.editMode?"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u0631\u0627\u062a":"\u0625\u0646\u0640\u0634\u0640\u0627\u0621 \u0648\u062d\u0640\u0641\u0640\u0638 \u0627\u0644\u0640\u0648\u062c\u0640\u0628\u0640\u0629"),i.a.createElement("div",{id:"CreateMealCards"},function(){var e=v();if(e)return e.map((function(e){return i.a.createElement(o.Suspense,{fallback:"",key:100*Math.random()},i.a.createElement(f,{key:e.id+1e3*Math.random(),name:e.name,kcal:Math.round(e.kcal/100*(e.value*e.input)),serving:1===e.value?e.input+" \u063a\u0631\u0627\u0645 ":e.input+"  "+e.serving.filter((function(t){return t[1]===e.value}))[0][0],id:e.id,brand:e.brand,description:e.description,value:e.value,input:e.input}))}))}()),i.a.createElement("div",{id:"CreateMealNutritionInfoContainer"},i.a.createElement("p",{id:"CreateMealNutritionInfoTitle"},"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u063a\u0630\u0627\u0626\u064a\u0629"),i.a.createElement("div",{id:"CreateMealNutritionInfoPercentContainer"},i.a.createElement("div",{id:"CreateMealNutritionInfoCrabsPercent"}),i.a.createElement("div",{id:"CreateMealNutritionInfoProteinPercent"}),i.a.createElement("div",{id:"CreateMealNutritionInfoFatPercent"})),i.a.createElement("div",{id:"CreateMealNutritionInfoDetail"},i.a.createElement("div",{id:"CreateMealNutritionInfoTitles"},i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0633\u0639\u0631\u0627\u062a \u0627\u0644\u062d\u0631\u0627\u0631\u064a\u0629"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0623\u0644\u064a\u0627\u0641"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0633\u0643\u0631"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u062f\u0647\u0648\u0646"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u0645\u0634\u0628\u0639\u0629"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u063a\u064a\u0631 \u0645\u0634\u0628\u0639\u0629"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0622\u062e\u0631"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0643\u0648\u0644\u064a\u0633\u062a\u0631\u0648\u0644"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0635\u0648\u062f\u064a\u0648\u0645"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0628\u0648\u062a\u0627\u0633\u064a\u0648\u0645")),i.a.createElement("div",{id:"CreateMealNutritionInfoValues"},i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("kcal").toFixed(1))),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("protein").toFixed(1))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("carb").toFixed(1))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("fiber").toFixed(1))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("sugar").toFixed(1))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("fat").toFixed(1))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("saturatedFat").toFixed(2))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("unsaturatedFat").toFixed(2))," \u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoMain",style:{visibility:"hidden"}},"......"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},t("cholesterol").toFixed(0)," \u0645\u0644\u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},t("sodium").toFixed(0)," \u0645\u0644\u063a"),i.a.createElement("p",{className:"CreateMealNutritionInfoSub"},t("potassium").toFixed(0)," \u0645\u0644\u063a")))))}}}]);
//# sourceMappingURL=0.320b1e1c.chunk.js.map