(this["webpackJsonpmy-daily-calories"]=this["webpackJsonpmy-daily-calories"]||[]).push([[0],{104:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n,r=a(7),o=a(3),i=a.n(o),l=a(6),c=a(0),u=a.n(c),s=(a(104),a(4)),m=a(1),d=a(2),p=a(5),f=a(14),M=u.a.lazy((function(){return Promise.resolve().then(a.bind(null,30))})),C=u.a.lazy((function(){return Promise.resolve().then(a.bind(null,19))})),b=u.a.lazy((function(){return a.e(1).then(a.bind(null,100))}));function N(e){var t=Object(c.useCallback)((function(e){var t=E();return t?t.map((function(t){return t[e]*(t.value*t.input)/100})).reduce((function(e,t){return e+t})):0}),[]),a=Object(c.useCallback)((function(){return Math.min(Math.max(Math.round(4*t("protein")/t("kcal")*100),0),100)}),[t]),o=Object(c.useCallback)((function(){return Math.min(Math.max(Math.round(9*t("fat")/t("kcal")*100),0),100)}),[t]),N=Object(c.useCallback)((function(){return Math.min(Math.max(Math.round(4*t("carb")/t("kcal")*100),0),100)}),[t]),v=Object(c.useCallback)((function(){return N()>15?Math.min(Math.max(100-(o()+a()),0),100):N()}),[N,o,a]),h=Object(c.useCallback)((function(){Object(m.a)("#CreateMealNutritionInfoCrabsPercent").progress({input:v(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(m.a)("#CreateMealNutritionInfoProteinPercent").progress({input:a(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"}),Object(m.a)("#CreateMealNutritionInfoFatPercent").progress({input:o(),strokeColor:"var(--text-kinda-black)",textColor:"var(--text-kinda-black)",strokeBackgroundColor:"var(--background-gray)",strokeLinecap:"none"});var e=document.createElement("p"),t=document.createElement("p"),n=document.createElement("p");e.classList.add("CreateMealPercentTitles"),t.classList.add("CreateMealPercentTitles"),n.classList.add("CreateMealPercentTitles"),e.innerHTML="\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a",t.innerHTML="\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646",n.innerHTML="\u0627\u0644\u062f\u0647\u0648\u0646",document.getElementById("CreateMealNutritionInfoCrabsPercent").append(e),document.getElementById("CreateMealNutritionInfoProteinPercent").append(t),document.getElementById("CreateMealNutritionInfoFatPercent").append(n)}),[v,o,a]);Object(c.useEffect)((function(){e.doAnimation?k():I(),e.oldName&&(n=e.oldName),h(),Object(m.a)("#CreateMealNameInputContainer input").val(d.i.favorite.tmpMeal.mealName)}),[e.doAnimation,e.oldName,h]);var E=function(){var e=d.i.favorite.tmpMeal.mealContent;return e.length>0?e.map((function(e){return e=Object.assign({},d.b.filter((function(t){return t.id===e[0]}))[0],{value:e[1],input:e[2]})})):void 0},k=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(m.a)("#CreateMealPage").animate({position:"fixed",bottom:"75%",left:"50%",transform:"translate(-50%, 100%)"},{bottom:"100%"},{duration:150,cleanUp:!0,transitionProperty:"all",ease:"ease-out"}),Object(m.a)("#CreateMealHeader").animate({position:"relative"},{},{duration:200,cleanUp:!0,transitionProperty:"none"}),Object(m.a)("#CreateMealPage").css({opacity:"1"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("CreateMealPage")).style.opacity="0",t.style.transition="opacity 350ms",e.next=5,Object(s.e)(20);case 5:return t.style.opacity="1",e.next=8,Object(s.e)(350);case 8:t.removeAttribute("style");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",{id:"CreateMealPage"},u.a.createElement(s.a,null),u.a.createElement("header",{id:"CreateMealHeader"},u.a.createElement("svg",{id:"CreateMealBack",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:function(){return window.history.back()}},u.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),u.a.createElement("p",{id:"CreateMealHeaderTitle"},e.editMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0648\u062c\u0628\u0629":"\u0625\u0646\u0634\u0627\u0621 \u0648\u062c\u0628\u0629 \u062c\u062f\u064a\u062f\u0629")),u.a.createElement("div",{id:"CreateMealNameInput"},u.a.createElement("div",{id:"CreateMealNameInputContainer"},u.a.createElement("p",null,"\u0627\u062f\u062e\u0640\u0640\u0644 \u0627\u0633\u0640\u0640\u0645 \u0627\u0644\u0640\u0640\u0648\u062c\u0640\u0640\u0628\u0640\u0640\u0629"),u.a.createElement("input",{type:"text",placeholder:"\u0627\u0633\u0640\u0640\u0645 \u0627\u0644\u0640\u0640\u0648\u062c\u0640\u0640\u0628\u0640\u0640\u0629",onClick:function(e){Object(m.a)("#CreateMealNameInputContainer").removeAttr("style")},onChange:function(e){return d.i.favorite.tmpMeal.mealName=e.target.value}})),u.a.createElement("p",{id:"addFoodToMeal",onClick:function(){Object(p.updateRenderState)(u.a.createElement(c.Suspense,{fallback:"",key:100*Math.random()},u.a.createElement(b,{key:100*Math.random(),doAnimation:!0}))),e.editMode?window.history.pushState("","","/EditMeal/search"):window.history.pushState("","","/CreateNewMeal/search")}},u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})),"\u0625\u0636\u0640\u0627\u0641\u0640\u0629 \u0637\u0640\u0639\u0640\u0627\u0645 \u0625\u0644\u0640\u0649 \u0627\u0644\u0640\u0648\u062c\u0640\u0628\u0640\u0629")),u.a.createElement("p",{id:"CreateMealDone",onClick:e.editMode?function(){var t=[d.i.favorite.tmpMeal.mealName.toLowerCase(),e.oldName?e.oldName.toLowerCase():n.toLowerCase(),d.i.favorite.tmpMeal.mealContent,d.i.favorite.meals],a=t[0],o=t[1],i=t[2],l=t[3],c=!1;for(var u in l)l[u].mealName.toLowerCase()===a&&l[u].mealName.toLowerCase()!==o&&(c=!0);if(a.length>0&&i.length>0&&!c){var p=l.indexOf(l.filter((function(e){return e.mealName===o}))[0]);l[p].content=Object(r.a)(i),l[p].mealName=a,window.history.go(-2)}else c?(Object(m.a)("#CreateMealNameInputContainer").css({borderColor:"#ff9800"}),Object(s.c)("\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644","warning"),window.scrollTo({top:0})):0===a.length?(Object(m.a)("#CreateMealNameInputContainer").css({borderColor:"#f44336"}),Object(s.c)("\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062c\u0628\u0629","error"),window.scrollTo({top:0})):0===i.length&&(Object(m.a)("#addFoodToMeal").css({borderColor:"#f44336"}),Object(s.c)("\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0637\u0639\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0648\u062c\u0628\u0629","error"));Object(d.f)()}:function(){var t=[d.i.favorite.tmpMeal.mealName.toLowerCase(),d.i.favorite.tmpMeal.mealContent],a=t[0],n=t[1],o=!1;for(var i in d.i.favorite.meals)d.i.favorite.meals[i].mealName.toLowerCase()===a&&(o=!0);a.length>0&&n.length>0&&!o?(d.i.favorite.meals.unshift({mealName:a.toString(),content:Object(r.a)(n)}),d.i.favorite.tmpMeal.mealName="",d.i.favorite.tmpMeal.mealContent=[],setTimeout((function(){window.history.pushState("","","/favorites"),Object(p.updateRenderState)([u.a.createElement(c.Suspense,{fallback:"",key:100*Math.random()},u.a.createElement(M,{key:100*Math.random(),page:2})),u.a.createElement(f.a,{key:100*Math.random()})])}),100),e.goBackOnce?window.history.go(-1):window.history.go(-2)):o?(Object(m.a)("#CreateMealNameInputContainer").css({borderColor:"#ff9800"}),Object(s.c)("\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644","warning"),window.scrollTo({top:0})):0===a.length?(Object(m.a)("#CreateMealNameInputContainer").css({borderColor:"#f44336"}),Object(s.c)("\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062c\u0628\u0629","error"),window.scrollTo({top:0})):0===n.length&&(Object(m.a)("#addFoodToMeal").css({borderColor:"#f44336"}),Object(s.c)("\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0637\u0639\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0648\u062c\u0628\u0629","error")),Object(d.f)()}},e.editMode?"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u0631\u0627\u062a":"\u0625\u0646\u0640\u0634\u0640\u0627\u0621 \u0648\u062d\u0640\u0641\u0640\u0638 \u0627\u0644\u0640\u0648\u062c\u0640\u0628\u0640\u0629"),u.a.createElement("div",{id:"CreateMealCards"},function(){var e=E();if(e)return e.map((function(e){return u.a.createElement(c.Suspense,{fallback:"",key:100*Math.random()},u.a.createElement(C,{key:e.id+1e3*Math.random(),name:e.name,kcal:Math.round(e.kcal/100*(e.value*e.input)),serving:1===e.value?e.input+" \u063a\u0631\u0627\u0645 ":e.input+"  "+e.serving.filter((function(t){return t[1]===e.value}))[0][0],id:e.id,brand:e.brand,description:e.description,value:e.value,input:e.input}))}))}()),u.a.createElement("div",{id:"CreateMealNutritionInfoContainer"},u.a.createElement("p",{id:"CreateMealNutritionInfoTitle"},"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u063a\u0630\u0627\u0626\u064a\u0629"),u.a.createElement("div",{id:"CreateMealNutritionInfoPercentContainer"},u.a.createElement("div",{id:"CreateMealNutritionInfoCrabsPercent"}),u.a.createElement("div",{id:"CreateMealNutritionInfoProteinPercent"}),u.a.createElement("div",{id:"CreateMealNutritionInfoFatPercent"})),u.a.createElement("div",{id:"CreateMealNutritionInfoDetail"},u.a.createElement("div",{id:"CreateMealNutritionInfoTitles"},u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0633\u0639\u0631\u0627\u062a \u0627\u0644\u062d\u0631\u0627\u0631\u064a\u0629"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0623\u0644\u064a\u0627\u0641"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0633\u0643\u0631"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0627\u0644\u062f\u0647\u0648\u0646"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u0645\u0634\u0628\u0639\u0629"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u062f\u0647\u0648\u0646 \u0627\u0644\u063a\u064a\u0631 \u0645\u0634\u0628\u0639\u0629"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},"\u0622\u062e\u0631"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0643\u0648\u0644\u064a\u0633\u062a\u0631\u0648\u0644"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0635\u0648\u062f\u064a\u0648\u0645"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},"\u0627\u0644\u0628\u0648\u062a\u0627\u0633\u064a\u0648\u0645")),u.a.createElement("div",{id:"CreateMealNutritionInfoValues"},u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("kcal").toFixed(1))),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("protein").toFixed(1))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("carb").toFixed(1))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("fiber").toFixed(1))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("sugar").toFixed(1))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain"},Number(t("fat").toFixed(1))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("saturatedFat").toFixed(2))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},Number(t("unsaturatedFat").toFixed(2))," \u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoMain",style:{visibility:"hidden"}},"......"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},t("cholesterol").toFixed(0)," \u0645\u0644\u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},t("sodium").toFixed(0)," \u0645\u0644\u063a"),u.a.createElement("p",{className:"CreateMealNutritionInfoSub"},t("potassium").toFixed(0)," \u0645\u0644\u063a")))))}}}]);
//# sourceMappingURL=0.bdbb41a4.chunk.js.map